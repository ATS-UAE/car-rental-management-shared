(this.webpackJsonptemp=this.webpackJsonptemp||[]).push([[3],{100:function(e,t,n){"use strict";var a=n(22),r=n(21),o=n(12),i=n.n(o),c=n(37),l=n.n(c),u=n(23),s=n(61);n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return f})),n.d(t,"g",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"i",(function(){return h})),n.d(t,"k",(function(){return g})),n.d(t,"a",(function(){return E})),n.d(t,"l",(function(){return b})),n.d(t,"j",(function(){return v})),n.d(t,"d",(function(){return O})),n.d(t,"c",(function(){return y})),n.d(t,"b",(function(){return s.a}));var d=function(e,t){if(e&&e.bookings){var n=!0,a=!1,r=void 0;try{for(var o,i=e.bookings[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var c=o.value,l=m(c);if((l===u.BookingStatus.PENDING||l===u.BookingStatus.ONGOING||l===u.BookingStatus.APPROVED)&&(!t||t!==c.id))return!0}}catch(s){a=!0,r=s}finally{try{n||null==i.return||i.return()}finally{if(a)throw r}}}return!1},f=function(e){var t=!0,n=!1,a=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var i=r.value,c=m(i);if(c===u.BookingStatus.PENDING||c===u.BookingStatus.ONGOING||c===u.BookingStatus.APPROVED)return!1}}catch(l){n=!0,a=l}finally{try{t||null==o.return||o.return()}finally{if(n)throw a}}return!0},p=function(e,t,n,a){var r=!1,o=!0,i=!1,c=void 0;try{for(var l,s=e[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var d=l.value,f=m(d);if((f===u.BookingStatus.PENDING||f===u.BookingStatus.ONGOING||f===u.BookingStatus.APPROVED)&&((r=h(t,n,d.from,d.to))&&!a||a!==d.id))return r}}catch(p){i=!0,c=p}finally{try{o||null==s.return||s.return()}finally{if(i)throw c}}return r},m=function(e){var t=u.BookingStatus.UNKNOWN,n=l()(),a=l()(e.from,"X").isSameOrBefore(n),r=l()(e.to,"X").isSameOrBefore(n);return e.approved?t=a&&!r?u.BookingStatus.ONGOING:r?u.BookingStatus.FINISHED:u.BookingStatus.APPROVED:null===e.approved?t=a?u.BookingStatus.EXPIRED:u.BookingStatus.PENDING:!1===e.approved&&(t=u.BookingStatus.DENIED),t},h=function(e,t,n,a){return Math.max(e,n)<=Math.min(t,a)},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_",n=e.split(t),a="",r=!0,o=!1,i=void 0;try{for(var c,l=n[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){for(var u=c.value,s=0;s<u.length;s++){var d=u[s];a+=0===s?d.toUpperCase():d.toLowerCase()}a+=" "}}catch(f){o=!0,i=f}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return a},E=function(){function e(t,n){Object(a.a)(this,e),this.test=t,this.error=n}return Object(r.a)(e,null,[{key:"runThroughValidators",value:function(e,t){for(var n=[],a=0;a<e.length;a++){e[a].test.bind(e[a].test)(t)||n.push(e[a])}return n}}]),e}(),b={username:new E((function(e){return/^.{4,16}$/.test(e)}),"Min 4 characters, max 16 characters."),minLength:function(e){return new E((function(t){return new RegExp("^.{".concat(e,",}$")).test(t)}),"Minimum ".concat(e," characters."))},maxLength:function(e){return new E((function(t){return new RegExp("^.{0,".concat(e,"}$")).test(t)}),"Maximum ".concat(e," characters."))},usernameCharacters:new E((function(e){return/^[a-z0-9_-]+$/.test(e)}),"No special characters."),password:new E((function(e){return/.{8,}/.test(e)}),"Password should be greater than 8 characters."),email:new E((function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}),"Invalid email."),requiredField:new E((function(e){return void 0!==e&&""!==e}),"This field is required.")},v=function(e,t){var n=!0;return e&&t&&(n=Boolean(e.split(" ").every((function(e){return new RegExp(e,"i").test(t)})))),n},O=function(e){var t=!1;return{promise:new Promise((function(n,a){return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:e instanceof Promise?e.then((function(e){return t?a({isCanceled:!0,value:e}):n(e)}),(function(e){return a({isCanceled:t,error:e})})):n(e);case 1:case"end":return r.stop()}}))})),cancel:function(){return t=!0}}},y=function(e){var t="Unknown error.",n=[];return e.response&&e.response.data?(t=e.response.data.message,n=e.response.data.errors):e.message&&(t=e.message),{message:t,errors:n}}},180:function(e,t,n){"use strict";n.r(t),n.d(t,"fetchCurrentUserDetails",(function(){return c})),n.d(t,"authLogin",(function(){return l})),n.d(t,"authLogout",(function(){return u})),n.d(t,"fetchUsers",(function(){return s})),n.d(t,"fetchVehicles",(function(){return d})),n.d(t,"fetchBookings",(function(){return f})),n.d(t,"fetchLocations",(function(){return p})),n.d(t,"fetchAccidents",(function(){return m})),n.d(t,"fetchCategories",(function(){return h})),n.d(t,"fetchClients",(function(){return g})),n.d(t,"fetchWialonUnits",(function(){return E}));var a=n(12),r=n.n(a),o=n(27),i=n(61),c=function(){return function(e){var t;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.a.awrap(i.a.fetchCurrentUserDetails());case 3:return t=n.sent,e({type:o.a.AUTH_LOGIN,payload:t}),n.abrupt("return",t);case 8:throw n.prev=8,n.t0=n.catch(0),e({type:o.a.AUTH_LOGIN,payload:!1}),n.t0.response;case 12:case"end":return n.stop()}}),null,null,[[0,8]])}},l=function(e,t){return function(n){var a;return r.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,r.a.awrap(i.a.authLogin({username:e,password:t}));case 3:return c.next=5,r.a.awrap(i.a.fetchCurrentUserDetails());case 5:return a=c.sent,n({type:o.a.AUTH_LOGIN,payload:a}),c.abrupt("return",a);case 10:throw c.prev=10,c.t0=c.catch(0),n({type:o.a.AUTH_LOGIN,payload:!1}),c.t0;case 14:case"end":return c.stop()}}),null,null,[[0,10]])}},u=function(){return function(e){return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.a.awrap(i.a.authLogout());case 2:e({type:o.a.AUTH_LOGOUT,payload:!1});case 3:case"end":return t.stop()}}))}},s=function(){return function(e){var t;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(i.a.fetchUsers());case 2:return t=n.sent,e({type:o.a.FETCH_USERS,payload:t}),n.abrupt("return",t);case 5:case"end":return n.stop()}}))}},d=function(e,t){return function(n){var a;return r.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,r.a.awrap(i.a.fetchVehicles(e,t));case 2:return a=c.sent,n({type:o.a.FETCH_VEHICLES,payload:a}),c.abrupt("return",a);case 5:case"end":return c.stop()}}))}},f=function(){return function(e){var t;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(i.a.fetchBookings());case 2:return t=n.sent,e({type:o.a.FETCH_BOOKINGS,payload:t}),n.abrupt("return",t);case 5:case"end":return n.stop()}}))}},p=function(){return function(e){var t;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(i.a.fetchLocations());case 2:return t=n.sent,e({type:o.a.FETCH_LOCATIONS,payload:t}),n.abrupt("return",t);case 5:case"end":return n.stop()}}))}},m=function(){return function(e){var t;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(i.a.fetchAccidents());case 2:return t=n.sent,e({type:o.a.FETCH_ACCIDENTS,payload:t}),n.abrupt("return",t);case 5:case"end":return n.stop()}}))}},h=function(){return function(e){var t;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(i.a.fetchCategories());case 2:return t=n.sent,e({type:o.a.FETCH_CATEGORIES,payload:t}),n.abrupt("return",t);case 5:case"end":return n.stop()}}))}},g=function(){return function(e){var t;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(i.a.fetchClients());case 2:return t=n.sent,e({type:o.a.FETCH_CLIENTS,payload:t}),n.abrupt("return",t);case 5:case"end":return n.stop()}}))}},E=function(){return function(e){var t;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(i.a.fetchWialonUnits());case 2:return t=n.sent,e({type:o.a.FETCH_WIALON_UNITS,payload:t}),n.abrupt("return",t);case 5:case"end":return n.stop()}}))}}},23:function(e,t,n){"use strict";n.d(t,"Operation",(function(){return i})),n.d(t,"Resource",(function(){return c}));var a=n(385);n.o(a,"Action")&&n.d(t,"Action",(function(){return a.Action})),n.o(a,"BookingChargeUnit")&&n.d(t,"BookingChargeUnit",(function(){return a.BookingChargeUnit})),n.o(a,"BookingStatus")&&n.d(t,"BookingStatus",(function(){return a.BookingStatus})),n.o(a,"BookingType")&&n.d(t,"BookingType",(function(){return a.BookingType})),n.o(a,"Role")&&n.d(t,"Role",(function(){return a.Role}));var r=n(457);n.d(t,"BookingChargeUnit",(function(){return r.a})),n.d(t,"BookingStatus",(function(){return r.b})),n.d(t,"BookingType",(function(){return r.c})),n.d(t,"Role",(function(){return r.d}));var o=n(386);n.o(o,"Action")&&n.d(t,"Action",(function(){return o.Action}));var i,c,l=n(400);n.o(l,"Action")&&n.d(t,"Action",(function(){return l.Action})),function(e){e.READ="READ",e.UPDATE="UPDATE",e.DELETE="DELETE",e.CREATE="CREATE"}(i||(i={})),function(e){e.BOOKINGS="BOOKINGS",e.LOCATIONS="LOCATIONS",e.VEHICLES="VEHICLES",e.USERS="USERS",e.ENUMS="ENUMS",e.INVITES="INVITES",e.ACCIDENTS="ACCIDENTS",e.CLIENTS="CLIENTS",e.CATEGORIES="CATEGORIES"}(c||(c={}))},27:function(e,t,n){"use strict";var a;!function(e){e.AUTH_LOGIN="AUTH_LOGIN",e.FETCH_ENUMS="FETCH_ENUMS",e.FETCH_USERS="FETCH_USERS",e.FETCH_VEHICLES="FETCH_VEHICLES",e.FETCH_BOOKINGS="FETCH_BOOKINGS",e.FETCH_CURRENT_USER_DETAILS="FETCH_CURRENT_USER_DETAILS",e.AUTH_LOGOUT="AUTH_LOGOUT",e.FETCH_LOCATIONS="FETCH_LOCATIONS",e.FETCH_ACCIDENTS="FETCH_ACCIDENTS",e.FETCH_CATEGORIES="FETCH_CATEGORIES",e.FETCH_CLIENTS="FETCH_CLIENTS",e.FETCH_WIALON_UNITS="FETCH_WIALON_UNITS"}(a||(a={})),t.a=a},290:function(e,t,n){"use strict";var a;!function(e){e.CREATE="CREATE",e.READ="READ",e.UPDATE="UPDATE",e.DELETE="DELETE"}(a||(a={}));var r;!function(e){e.PRIVATE="PRIVATE",e.BUSINESS="BUSINESS",e.SERVICE="SERVICE",e.REPLACEMENT="REPLACEMENT"}(r||(r={}));var o;!function(e){e.BOOKINGS="BOOKINGS",e.LOCATIONS="LOCATIONS",e.VEHICLES="VEHICLES",e.USERS="USERS",e.ENUMS="ENUMS",e.INVITES="INVITES",e.ACCIDENTS="ACCIDENTS",e.CLIENTS="CLIENTS",e.CATEGORIES="CATEGORIES"}(o||(o={}));var i,c=n(49);!function(e){e.UNKNOWN="UNKNOWN",e.ONGOING="ONGOING",e.FINISHED="FINISHED",e.APPROVED="APPROVED",e.EXPIRED="EXPIRED",e.DENIED="DENIED",e.PENDING="PENDING"}(i||(i={}));var l;!function(e){e.KILOMETER="Km",e.SECOND="Second",e.HOUR="Hour",e.DAY="Day",e.WEEK="Week",e.MONTH="Month"}(l||(l={}));c.a;n.d(t,"a",(function(){return f}));var u=c.a.ADMIN,s=c.a.KEY_MANAGER,d=c.a.MASTER,f={INVITE:[u,s,d],CREATE_VEHICLE:[d],UPDATE_VEHICLE:[u,d,s],REPORT_ACCIDENTS:[c.a.GUEST],CREATE_LOCATIONS:[d],UPDATE_LOCATIONS:[d],CREATE_CATEGORIES:[d,u]}},385:function(e,t){},386:function(e,t,n){"use strict";var a=n(387);n.o(a,"Action")&&n.d(t,"Action",(function(){return a.Action}));var r=n(388);n.o(r,"Action")&&n.d(t,"Action",(function(){return r.Action}));var o=n(389);n.o(o,"Action")&&n.d(t,"Action",(function(){return o.Action}));var i=n(390);n.o(i,"Action")&&n.d(t,"Action",(function(){return i.Action}));var c=n(391);n.o(c,"Action")&&n.d(t,"Action",(function(){return c.Action}));var l=n(392);n.o(l,"Action")&&n.d(t,"Action",(function(){return l.Action}));var u=n(393);n.o(u,"Action")&&n.d(t,"Action",(function(){return u.Action}));var s=n(394);n.o(s,"Action")&&n.d(t,"Action",(function(){return s.Action}));var d=n(395);n.o(d,"Action")&&n.d(t,"Action",(function(){return d.Action}));var f=n(396);n.o(f,"Action")&&n.d(t,"Action",(function(){return f.Action}));var p=n(397);n.o(p,"Action")&&n.d(t,"Action",(function(){return p.Action}));var m=n(398);n.o(m,"Action")&&n.d(t,"Action",(function(){return m.Action}));var h=n(399);n.o(h,"Action")&&n.d(t,"Action",(function(){return h.Action}))},387:function(e,t){},388:function(e,t){},389:function(e,t){},390:function(e,t){},391:function(e,t){},392:function(e,t){},393:function(e,t){},394:function(e,t){},395:function(e,t){},396:function(e,t){},397:function(e,t){},398:function(e,t){},399:function(e,t){},400:function(e,t,n){"use strict";var a=n(401);n.o(a,"Action")&&n.d(t,"Action",(function(){return a.Action}));var r=n(402);n.o(r,"Action")&&n.d(t,"Action",(function(){return r.Action}));var o=n(403);n.o(o,"Action")&&n.d(t,"Action",(function(){return o.Action}));var i=n(404);n.o(i,"Action")&&n.d(t,"Action",(function(){return i.Action}));var c=n(405);n.o(c,"Action")&&n.d(t,"Action",(function(){return c.Action}));var l=n(406);n.o(l,"Action")&&n.d(t,"Action",(function(){return l.Action}));var u=n(407);n.o(u,"Action")&&n.d(t,"Action",(function(){return u.Action}));var s=n(408);n.o(s,"Action")&&n.d(t,"Action",(function(){return s.Action}));var d=n(409);n.o(d,"Action")&&n.d(t,"Action",(function(){return d.Action}));var f=n(410);n.o(f,"Action")&&n.d(t,"Action",(function(){return f.Action}))},401:function(e,t){},402:function(e,t){},403:function(e,t){},404:function(e,t){},405:function(e,t){},406:function(e,t){},407:function(e,t){},408:function(e,t){},409:function(e,t){},410:function(e,t){},457:function(e,t,n){"use strict";var a,r,o,i;!function(e){e.KILOMETER="Km",e.SECOND="Second",e.HOUR="Hour",e.DAY="Day",e.WEEK="Week",e.MONTH="Month"}(a||(a={})),function(e){e.UNKNOWN="UNKNOWN",e.ONGOING="ONGOING",e.FINISHED="FINISHED",e.APPROVED="APPROVED",e.EXPIRED="EXPIRED",e.DENIED="DENIED",e.PENDING="PENDING"}(r||(r={})),function(e){e.PRIVATE="PRIVATE",e.BUSINESS="BUSINESS",e.SERVICE="SERVICE",e.REPLACEMENT="REPLACEMENT"}(o||(o={})),function(e){e.MASTER="MASTER",e.ADMIN="ADMIN",e.KEY_MANAGER="KEY_MANAGER",e.GUEST="GUEST"}(i||(i={})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i}))},47:function(e,t,n){"use strict";var a,r=n(41),o=n(0),i=n.n(o),c=n(237),l=n(6),u=n(887),s=n(890),d=n(106),f=n(181),p=Object(c.a)({root:{height:"100%",width:"100%",minHeight:"200px"}}),m=Object(f.a)(Object(l.a)(p),d.b)((function(e){var t=e.center,n=e.zoom,a=e.onLocationAsk,c=e.askForLocation,l=e.children,d=e.onClick,f=e.classes,p=Object(o.useState)(),m=Object(r.a)(p,2),h=m[0],g=m[1];return Object(o.useEffect)((function(){c&&window.navigator.geolocation&&window.navigator.geolocation.getCurrentPosition((function(e){a&&a(e)}),(function(e){a&&a(null,e)})),g({center:t,zoom:n})}),[]),i.a.createElement(u.a,{onClick:d,className:f.root,onViewportChange:g,viewport:h,maxZoom:19},i.a.createElement(s.a,{attribution:'<a href="https://wikimediafoundation.org/wiki/Maps_Terms_of_Use">Wikimedia</a>',url:"https://maps.wikimedia.org/osm-intl/{z}/{x}/{y}.png?lang=en"}),l)})),h=n(22),g=n(21),E=n(33),b=n(32),v=n(34),O=n(10),y=n(294),C=n(870),A=n(62),k=n.n(A),N=n(459),S=n(319),T=n(14),I=n.n(T),j=Object(c.a)({root:{position:"relative"},active:{opacity:.6},svg:{fill:"#FF875D"},noImage:{padding:"10px"},image:{minHeight:"62px",objectFit:"cover",backgroundColor:"#FF875D",position:"absolute",width:"100%",left:0,zIndex:-1,bottom:"calc(50% + 9px)",transform:"translateY(50%)",clipPath:"circle(31px at center)"}}),x=Object(l.a)(j)((function(e){var t=e.classes,n=e.active,a=void 0!==n&&n,r=e.icon,o=void 0===r?S.a:r;return i.a.createElement("div",{className:t.root},i.a.createElement("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 782.2 926.42",className:I()(Object(O.a)({},t.active,!a),t.svg)},i.a.createElement("path",{d:"M391,0C148.68,0,6.76,225.34,0,391c-.51,12.58-2.36,76.58,30.13,150.78,29.55,67.48,81.65,129.77,147.94,174l.14.1c159.85,122.3,178.33,144.28,200.48,202a13.36,13.36,0,0,0,24.89.13c22.78-57.62,42.12-79.47,203.32-200.93L607,717c105.46-70,175-189.88,175-326C782,175.06,606.94,0,391,0ZM379,727.79C202.42,721.62,60.38,579.58,54.21,403,47.4,208.17,208.17,47.4,403,54.21,579.58,60.38,721.62,202.42,727.79,379,734.6,573.83,573.83,734.6,379,727.79Z",transform:"translate(0.2)"})),i.a.createElement(o,{className:I()(t.image,t.noImage)}))})),w=function(e){function t(){return Object(h.a)(this,t),Object(E.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e,t=this.props,n=t.position,a=t.active,r=t.icon,o=t.classes,c=t.onClick,l=t.title;return i.a.createElement(N.a,{title:l||""},i.a.createElement(C.a,{onClick:c,position:n,icon:(e={active:a,icon:r,classes:o},k.a.divIcon({html:Object(y.renderToString)(i.a.createElement(x,e)),iconSize:[70,83],iconAnchor:[35,83],popupAnchor:[-3,-76],className:"location-icon"}))}))}}]),t}(o.Component),P=Object(d.b)(w),R=n(871),D=n(840),L=n(320),F=n(872),B=n(848),U=n(489),M=n(136),_=Object(l.a)((function(e){return Object(c.a)({root:{height:"80vh",display:"flex",flexDirection:"column"},selected:{"&.Mui-selected":{color:e.palette.primary.contrastText}},appBar:{background:e.palette.primary.main}})}))((function(e){var t=e.tabs,n=e.classes,a=e.wrapInPaper,c=void 0!==a&&a,l=Object(o.useState)(0),u=Object(r.a)(l,2),s=u[0],d=u[1],f=i.a.createElement("div",{className:c?void 0:n.root},i.a.createElement(F.a,{classes:{root:n.appBar},position:"static",color:"default"},i.a.createElement(B.a,{value:s,onChange:function(e,t){d(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},t.map((function(e,t){return i.a.createElement(U.a,Object.assign({label:e.label,classes:{selected:n.selected}},function(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}(t)))})))),t.length?t[s].body:null);return c?i.a.createElement(M.a,{classes:{root:n.root}},f):f})),V=n(238),G=n(72),H=function(e){return e.value?i.a.createElement(V.a,{item:!0,xs:6},function(e){var t={},n={};return e.key&&e.key&&"string"!==typeof e.key&&e.key.props&&(t=e.key.props),e.value&&e.value&&"string"!==typeof e.value&&e.value.props&&(n=e.value.props),i.a.createElement(i.a.Fragment,null,e.key&&i.a.createElement(G.a,Object.assign({variant:"body1",component:"span"},t),"string"===typeof e.key?e.key:e.key.label,":"),i.a.createElement(G.a,Object.assign({variant:"body1",component:"span"},n),"string"===typeof e.value?e.value:e.value.label))}({value:e.value,key:e.key})):null},W=function(e){var t=e.customFields,n=e.vin,a=e.plateNumber,r=e.brand,o=e.model,c=e.image,l=e.knownIssues,u=e.position,s=e.classes,d=e.mileage,f=[];return f.push({label:"Vehicle Details",body:i.a.createElement("div",{className:s.paddingTop},c&&i.a.createElement("img",{className:s.vehicleImage,src:c,alt:"Vehicle Image"}),i.a.createElement(V.a,{container:!0},H({key:{label:"Chassis",props:{classes:{root:s.vehicleDetailDescriptionKeys}}},value:n}),H({key:{label:"Plate Number",props:{classes:{root:s.vehicleDetailDescriptionKeys}}},value:a}),H({key:{label:"Brand",props:{classes:{root:s.vehicleDetailDescriptionKeys}}},value:r}),H({key:{label:"Model",props:{classes:{root:s.vehicleDetailDescriptionKeys}}},value:o}),d&&H({key:{label:"Mileage",props:{classes:{root:s.vehicleDetailDescriptionKeys}}},value:"".concat(d," Km")})))}),u&&f.push({label:"Location",body:i.a.createElement(Y,{position:u})}),l&&l.length&&f.push({label:"Known Issues",body:i.a.createElement(R.a,{component:"div","aria-label":"Vehicle issues."},l.map((function(e,t){return i.a.createElement(D.a,{button:!0,key:t},i.a.createElement(L.a,{primary:e}))})))}),t&&t.length&&f.push({label:"Misc Details",body:i.a.createElement(V.a,{container:!0,classes:{root:s.paddingTop}},t.map((function(e){return H({key:{label:e.label,props:{classes:{root:s.vehicleDetailDescriptionKeys}}},value:e.value})})))}),f},q=Object(l.a)((function(e){return Object(c.a)({vehicleDetailDescriptionKeys:{paddingRight:e.spacing(1)},paddingTop:{paddingTop:e.spacing(1)},vehicleImage:{width:"100%"}})}))((function(e){return i.a.createElement(_,{tabs:W(e)})})),K=n(321),Y=function(e){var t=e.position;return i.a.createElement(m,{center:t,zoom:11},i.a.createElement(P,{position:t,icon:K.a}))},z=n(292),$=n.n(z),X=n(295),Z=n.n(X),J=n(305),Q=n.n(J),ee=n(296),te=n.n(ee),ne=n(303),ae=n.n(ne),re=n(252),oe=n.n(re),ie=n(251),ce=n.n(ie),le=n(297),ue=n.n(le),se=n(298),de=n.n(se),fe=n(300),pe=n.n(fe),me=n(301),he=n.n(me),ge=n(302),Ee=n.n(ge),be=n(306),ve=n.n(be),Oe=n(299),ye=n.n(Oe),Ce=n(304),Ae=n.n(Ce),ke=n(307),Ne=n.n(ke),Se={Add:Object(o.forwardRef)((function(e,t){return i.a.createElement(Z.a,Object.assign({},e,{ref:t}))})),Check:Object(o.forwardRef)((function(e,t){return i.a.createElement(te.a,Object.assign({},e,{ref:t}))})),Clear:Object(o.forwardRef)((function(e,t){return i.a.createElement(ce.a,Object.assign({},e,{ref:t}))})),Delete:Object(o.forwardRef)((function(e,t){return i.a.createElement(ue.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(o.forwardRef)((function(e,t){return i.a.createElement(oe.a,Object.assign({},e,{ref:t}))})),Edit:Object(o.forwardRef)((function(e,t){return i.a.createElement(de.a,Object.assign({},e,{ref:t}))})),Export:Object(o.forwardRef)((function(e,t){return i.a.createElement(ye.a,Object.assign({},e,{ref:t}))})),Filter:Object(o.forwardRef)((function(e,t){return i.a.createElement(pe.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(o.forwardRef)((function(e,t){return i.a.createElement(he.a,Object.assign({},e,{ref:t}))})),LastPage:Object(o.forwardRef)((function(e,t){return i.a.createElement(Ee.a,Object.assign({},e,{ref:t}))})),NextPage:Object(o.forwardRef)((function(e,t){return i.a.createElement(oe.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(o.forwardRef)((function(e,t){return i.a.createElement(ae.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(o.forwardRef)((function(e,t){return i.a.createElement(ce.a,Object.assign({},e,{ref:t}))})),Search:Object(o.forwardRef)((function(e,t){return i.a.createElement(Ae.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(o.forwardRef)((function(e,t){return i.a.createElement(Q.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(o.forwardRef)((function(e,t){return i.a.createElement(ve.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(o.forwardRef)((function(e,t){return i.a.createElement(Ne.a,Object.assign({},e,{ref:t}))}))},Te=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(E.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).render=function(){return i.a.createElement($.a,Object.assign({icons:Se},n.props))},n}return Object(v.a)(t,e),t}(i.a.Component),Ie=n(220),je=n(216),xe=n(874),we=n(337),Pe=n(338),Re=function(e){var t=e.onDelete,n=e.onAdd,a=e.newValue,r=e.values,c=e.onChange;return i.a.createElement(o.Fragment,null,i.a.createElement(Ie.a,{id:"issue",label:"Add new issue.",margin:"normal",value:a,onChange:function(e){return c&&c(e.target.value)}}),i.a.createElement(je.a,{edge:"end","aria-label":"delete",onClick:function(){n(a)}},i.a.createElement(we.a,null)),i.a.createElement(R.a,null,r.map((function(e){return i.a.createElement(D.a,null,i.a.createElement(L.a,{primary:e.message}),i.a.createElement(xe.a,null,i.a.createElement(je.a,{edge:"end","aria-label":"delete",onClick:(n=e.id,function(){var e=r.find((function(e){return e.id===n}));e&&t(e)})},i.a.createElement(Pe.a,null))));var n}))))},De=n(844),Le=n(137),Fe=Object(l.a)((function(e){return Object(c.a)({paper:{padding:e.spacing(2)}})}))((function(e){var t=e.children,n=e.onClick,a=e.onClose,r=e.open,c=e.buttonProps,l=e.classes;return i.a.createElement(o.Fragment,null,i.a.createElement(Le.a,Object.assign({onClick:n},c)),i.a.createElement(De.a,{open:r,onClose:a,classes:{paper:l.paper}},i.a.createElement(o.Fragment,null,t)))})),Be=n(278),Ue=n(283),Me=n(282),_e=n(325),Ve=function(e){function t(){return Object(h.a)(this,t),Object(E.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"renderTable",value:function(){var e=this.props,t=e.columns,n=e.data,a=e.title,r=void 0===a?"":a;return t&&n?i.a.createElement(Te,{title:r,data:n,columns:t}):null}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.loading,a=e.onClick,r=e.onSelect,o=e.reportList,c=e.classes;return i.a.createElement(i.a.Fragment,null,i.a.createElement(V.a,{container:!0,direction:"row",className:c.root,spacing:1},i.a.createElement(V.a,{item:!0,xs:3},i.a.createElement(M.a,{className:c.sidebarPaper},i.a.createElement(V.a,{container:!0,direction:"column",spacing:2},i.a.createElement(V.a,{item:!0},i.a.createElement(Be.a,{required:!0,fullWidth:!0},i.a.createElement(Ue.a,{htmlFor:"report"},"Report"),i.a.createElement(Me.a,{value:void 0===t||null===t?"":t,fullWidth:!0,onChange:function(e){return r&&r(e.target.value)},id:"report"},o.map((function(e){return i.a.createElement(_e.a,{value:e.value,key:e.value},e.label)}))))),i.a.createElement(V.a,{item:!0},i.a.createElement(Le.a,{disabled:!Boolean(t)||n,onClick:function(e){return t&&a&&a(t)},fullWidth:!0},"Generate"))))),i.a.createElement(V.a,{container:!0,item:!0,xs:9},i.a.createElement("div",{className:c.tableContainer},this.renderTable()))))}}]),t}(o.Component),Ge=Object(l.a)((function(e){return Object(c.a)({root:{height:"100%"},sidebarPaper:{padding:e.spacing(1),height:"100%"},tableContainer:{height:"100%",width:"100%"}})}))(Ve),He=n(111),We=n(482),qe=n.n(We),Ke=["#FF8E53","#ffd400","#FE6B8B","#a500ff","#0072ff"],Ye=function(e){function t(){return Object(h.a)(this,t),Object(E.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.data,a=e.bars,r=(e.xAxis,qe()(Ke.slice(0,Math.max(2,a.length))).rgb(Math.max(2,a.length)));return i.a.createElement(i.a.Fragment,null,t&&i.a.createElement(G.a,{align:"center",variant:"h6",component:"h1"},t),i.a.createElement(He.e,{width:"100%",height:300},i.a.createElement(He.b,{data:n},i.a.createElement(He.c,{strokeDasharray:"3 3"}),i.a.createElement(He.g,{dataKey:"name"}),i.a.createElement(He.h,null),i.a.createElement(He.f,null),i.a.createElement(He.d,null),a.map((function(e,t){return i.a.createElement(He.a,{key:t,dataKey:e,label:!1,fill:"#".concat(r[t].toHex())})})))))}}]),t}(o.Component),ze=(n(290),function(e){var t=e.roles,n=void 0===t?[]:t,a=e.children,r=e.role,o=e.excludes,c=void 0===o?[]:o;return r&&(n&&n.includes(r)||c&&!c.includes(r))?i.a.createElement(i.a.Fragment,null,a):null}),$e=n(875),Xe=n(876),Ze=n(877),Je=n(888),Qe=function(e){var t=e.list,n=e.onClick;return i.a.createElement(i.a.Fragment,null,t.map((function(e,t,a){return i.a.createElement(o.Fragment,{key:t},i.a.createElement(R.a,null,e.map((function(e,t){return i.a.createElement(D.a,{button:!0,key:t,onClick:function(){n&&n(),e.onClick&&e.onClick()}},i.a.createElement(Ze.a,null,e.icon),i.a.createElement(L.a,null,e.text))}))),t!==a.length-1&&i.a.createElement(Xe.a,null))})))},et=Object(l.a)((function(e){return Object(c.a)({list:{width:250,display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:"100vh"},text:{textDecoration:"none"},profile:{display:"flex",margin:e.spacing(2),alignItems:"center"},picture:{marginRight:e.spacing(1)}})}))((function(e){var t=e.classes,n=e.list,a=void 0===n?[]:n,r=e.endList,o=void 0===r?[]:r,c=e.isOpen,l=e.onClick,u=e.onClose,s=e.profile,d=i.a.createElement("div",{className:t.list},i.a.createElement("div",null,s&&function(e,t){var n=e.title,a=e.subtitle,r=e.imgSrc,o=e.initials;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:t.profile},r?i.a.createElement($e.a,{alt:n,src:r,className:t.picture}):i.a.createElement($e.a,{className:t.picture},o),i.a.createElement("div",null,i.a.createElement(G.a,{component:"h1",variant:"subtitle1"},n),i.a.createElement(G.a,{component:"h2",variant:"caption"},a))),i.a.createElement(Xe.a,null))}(s,t),i.a.createElement("div",null,i.a.createElement(Qe,{list:a,onClick:l}))),o.length>0&&i.a.createElement("div",null,i.a.createElement(Qe,{list:o,onClick:l})));return i.a.createElement(Je.a,{open:c,onClose:function(){return u&&u()}},d)})),tt=n(276),nt=n(384),at=Object(c.a)({logo:{marginBottom:"-41px",cursor:"pointer"},toolbar:{display:"flex",justifyContent:"space-between"}}),rt=Object(l.a)(at)((function(e){var t=e.classes,n=e.title,a=e.renderActions,r=e.onMenuClick,o=e.onLogoClick;return i.a.createElement("div",null,i.a.createElement(F.a,{position:"static"},i.a.createElement(tt.a,{className:t.toolbar},i.a.createElement("div",null,i.a.createElement("img",{src:"/static/images/logo-navigation.png",className:t.logo,alt:"LeasePlan Logo",onClick:function(){return o&&o()}}),n&&i.a.createElement(G.a,{variant:"h6",color:"inherit"},n)),i.a.createElement("div",null,a&&a(),r&&i.a.createElement(je.a,{color:"inherit","aria-label":"Menu",onClick:r},i.a.createElement(nt.a,null))))))})),ot=function(e){var t=e.list,n=e.renderActions,a=e.title,c=e.onLogoClick,l=e.showMenu,u=e.endList,s=e.profile,d=Object(o.useState)(!1),f=Object(r.a)(d,2),p=f[0],m=f[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(rt,{onMenuClick:l&&(t&&t.length||u&&u.length)?function(){return m(!0)}:void 0,title:a,renderActions:n,onLogoClick:c}),i.a.createElement(et,{profile:s,isOpen:p,list:t,onClick:function(){return m(!1)},onClose:function(){return m(!1)},endList:u}))},it=n(483),ct=n.n(it),lt=Object(c.a)({root:{height:"100%",display:"flex",justifyContent:"center",flexDirection:"column"},spinner:{margin:"0 auto 0 auto",display:"flex",justifyContent:"center"}}),ut=Object(l.a)(lt)((function(e){var t=e.component,n=void 0===t?i.a.createElement(ct.a,{color:"#FE6B8B"}):t,a=e.classes;return i.a.createElement("div",{className:a.root},i.a.createElement("div",{className:a.spinner},n))})),st=n(112),dt=Object(l.a)((function(e){return Object(c.a)({paper:{padding:e.spacing(2)},loading:{padding:e.spacing(4),overflow:"visible",boxShadow:"none",backgroundColor:"rgba(0, 0, 0, 0)"}})}))((function(e){var t=e.children,n=e.onClose,a=e.open,r=e.loading,o=e.classes,c=Object(st.g)(),l=c&&c.state&&c.state.background;return i.a.createElement(De.a,{onClose:n,open:l||a||!1,classes:{paper:I()(o.paper,Object(O.a)({},o.loading,Boolean(r)))}},r?i.a.createElement(ut,null):t)})),ft=n(23),pt=n(419),mt=n(420),ht=n(421),gt=n(422),Et=n(423),bt=n(424),vt=n(77),Ot=n(37),yt=n.n(Ot),Ct=function(e){var t=e.data,n=e.role,a=e.onUpdate,r=e.onApprove,o=e.onDeny,c=e.onDelete,l=e.onRefresh,u=e.onFinalize,s=e.onPay,d=e.isLoading;return i.a.createElement(Te,{data:Nt(t),columns:kt(n),actions:At(n,{onUpdate:a,onApprove:r,onDeny:o,onDelete:c,onRefresh:l,onFinalize:u,onPay:s}),options:{filtering:!0,grouping:!0,columnsButton:!0,pageSizeOptions:[5,10,20,50,100,200,500,1e3],exportButton:!0,emptyRowsWhenPaging:!1},title:"Bookings",isLoading:d})},At=function(e,t){var n=yt()(),a=[{icon:function(){return i.a.createElement(pt.a,null)},tooltip:"Refresh Booking List",isFreeAction:!0,onClick:function(){return t.onRefresh()}}];return e&&e!==ft.Role.GUEST&&a.push((function(e){var a=e.from,r=e.approved,o=n.isAfter(a);return{icon:function(){return i.a.createElement(mt.a,null)},tooltip:"Approve",hidden:!(null===r&&!o),onClick:function(e,n){return!Array.isArray(n)&&t.onApprove(n)}}}),(function(e){var a=e.from,r=e.approved,o=n.isAfter(a);return{icon:function(){return i.a.createElement(ht.a,null)},tooltip:"Deny",hidden:!(null===r&&!o),onClick:function(e,n){return!Array.isArray(n)&&t.onDeny(n)}}}),(function(n){return{icon:function(){return i.a.createElement(Pe.a,null)},tooltip:"Delete",hidden:!(!n.approved&&vt.b.isRoleBetter(ft.Role.ADMIN,e)),onClick:function(e,n){return!Array.isArray(n)&&t.onDelete(n)}}}),(function(e){var n=e.approved,a=e.amount;return{icon:function(){return i.a.createElement(gt.a,null)},tooltip:"Update",hidden:!(null===n||!0===n&&null===a),onClick:function(e,n){return!Array.isArray(n)&&t.onUpdate(n)}}}),(function(e){var n=e.approved,a=e.amount;return{icon:function(){return i.a.createElement(Et.a,null)},tooltip:"Finalize",hidden:!(n&&null===a),onClick:function(e,n){return!Array.isArray(n)&&t.onFinalize(n)}}}),(function(e){var n=e.approved,a=e.amount,r=e.paid;return{icon:function(){return i.a.createElement(bt.a,null)},tooltip:"Mark as paid",hidden:!(n&&null!==a&&!r),onClick:function(e,n){return!Array.isArray(n)&&t.onPay(n)}}})),a},kt=function(e){var t=[].concat(St);return e!==ft.Role.GUEST&&null!==e||t.splice(1,1),t},Nt=function(e){return e.map((function(e){var t=yt()(e.createdAt,"X"),n=yt()(e.from,"X"),a=yt()(e.to,"X");return{id:e.id,username:e.username,approved:e.approved,vehicle:e.vehicle,paid:e.paid,amount:e.amount,createdAt:t.toDate(),createdAtYear:t.year(),createdAtMonth:t.format("MMM"),createdAtDay:t.date(),from:n.toDate(),fromYear:n.year(),fromMonth:n.format("MMM"),fromDay:n.date(),to:a.toDate(),toYear:a.year(),toMonth:a.format("MMM"),toDay:a.date(),status:Object(vt.f)(Object(vt.c)({approved:e.approved,from:e.from,to:e.to})),bookingType:Object(vt.f)(e.bookingType)}}))},St=[{title:"ID",type:"numeric",field:"id"},{title:"Username",field:"username"},{title:"Vehicle",field:"vehicle"},{title:"Sent",type:"datetime",field:"createdAt"},{title:"Sent Year",field:"createdAtYear",hidden:!0,type:"numeric"},{title:"Sent Month",field:"createdAtMonth",hidden:!0},{title:"Sent Day",field:"createdAtDay",hidden:!0},{title:"Start",type:"datetime",field:"from"},{title:"Start Year",field:"fromYear",hidden:!0},{title:"Start Month",field:"fromMonth",hidden:!0},{title:"Start Day",field:"fromDay",hidden:!0},{title:"End",type:"datetime",field:"to"},{title:"End Year",field:"toYear",hidden:!0},{title:"End Month",field:"toMonth",hidden:!0},{title:"End Day",field:"toDay",hidden:!0},{title:"Type",field:"bookingType"},{title:"Status",field:"status"}],Tt=n(458),It=n(233),jt=Object(l.a)((function(e){return Object(c.a)({root:{backgroundColor:It.a[500],color:"white",margin:"".concat(e.spacing(1),"px 0 ").concat(e.spacing(1),"px 0")}})}))((function(e){var t=e.label,n=e.classes;return i.a.createElement(Tt.a,{label:t,className:I()(n.root)})})),xt=n(4);!function(e){e.CHANGING="CHANGING",e.SUBMITTING="SUBMITTING"}(a||(a={}));var wt=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(E.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).C=Object(l.a)(Rt)((function(e){return i.a.createElement(Pt,e)})),n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return i.a.createElement(this.C,this.props)}}]),t}(o.Component),Pt=function(e){function t(){return Object(h.a)(this,t),Object(E.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.errorNotes,n=e.classes,a=e.title,r=e.hints,o=e.children,c=e.footer,l=e.header,u=Object(xt.a)(e,["errorNotes","classes","title","hints","children","footer","header"]);return i.a.createElement(V.a,{container:!0,className:n.root,direction:"column",spacing:2},i.a.createElement(V.a,{item:!0,className:n.header},i.a.createElement(Ln,{errorNotes:t,title:a},l)),i.a.createElement(wn,u,i.a.createElement(V.a,{item:!0,className:n.body},o),i.a.createElement(V.a,{className:n.footer,item:!0},i.a.createElement(Rn,{hints:r},c))))}}]),t}(o.Component),Rt=function(e){return Object(c.a)({root:{},header:{},body:{},footer:{},hints:{float:"right"},title:{marginBottom:e.spacing(3)}})},Dt=n(71),Lt=n.n(Dt),Ft=function(e){var t=e.children,n=e.name,a=e.defaultValue;return i.a.createElement(xn.Consumer,null,(function(e){var r=e.values,o=e.setFieldValue,i=e.setTouchedField,c=e.errors,l=e.touched,u=Lt.a.get(r,n),s=Lt.a.get(c,n),d=Lt.a.get(l,n);return t({value:void 0===u?a:u,setFieldValue:function(e){return o(n,e)},onBlur:function(){return i(n)},error:s,values:r,errors:c,touched:d,touchedFields:l})}))},Bt=n(248),Ut=function(e){var t=e.helperText,n=e.DateTimePickerProps,a=void 0===n?{}:n,r=e.className,o=e.label,c=e.fullWidth,l=e.transformer,u=e.name;return i.a.createElement(Ft,{name:u,defaultValue:null},(function(e){var n=e.setFieldValue,u=e.value,s=e.touched,d=e.error,f=e.onBlur;return i.a.createElement(Bt.a,Object.assign({fullWidth:c,onBlur:f,label:o},a,{className:r,value:u,onChange:function(e){var t=(null===e||void 0===e?void 0:e.toDate())||null;n(l?l(t):t)},error:Boolean(s&&d),helperText:s&&d||t,showTodayButton:!0}))}))},Mt=n(277),_t=n(843),Vt=function(e){var t=e.haveNone,n=e.items,a=e.label,r=e.name,o=e.helperText,c=e.fullWidth,l=e.FormControlProps,u=e.SelectProps,s=e.transformer;return i.a.createElement(Ft,{name:r,defaultValue:""},(function(e){var d=e.value,f=e.error,p=e.setFieldValue,m=e.touched,h=e.onBlur;return i.a.createElement(Be.a,Object.assign({fullWidth:c},l,{error:Boolean(m&&f)}),a&&i.a.createElement(Ue.a,{htmlFor:r},a),i.a.createElement(Me.a,Object.assign({},u,{onBlur:h,value:d,error:Boolean(m&&f),onChange:function(e){return p(s?s(e.target.value):e.target.value)},input:i.a.createElement(Mt.a,{name:r,id:r}),autoWidth:!0}),t&&i.a.createElement(_e.a,{value:""},i.a.createElement("em",null,"None")),n.map((function(e,t){return i.a.createElement(_e.a,{value:e.value,key:e.value},e.label)}))),o||m&&f&&i.a.createElement(_t.a,null,m&&f||o))}))},Gt=function(e,t){return Boolean(e.find((function(e){return e===t})))},Ht=function(e){for(var t=e.target.options,n=[],a=0,r=t.length;a<r;a+=1)t[a].selected&&n.push(t[a].value);return n},Wt=(Object(l.a)((function(e){return Object(c.a)({root:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing(1),minWidth:120,maxWidth:300},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},noLabel:{marginTop:e.spacing(3)},selected:{fontWeight:e.typography.fontWeightRegular},unselected:{fontWeight:e.typography.fontWeightMedium}})}))((function(e){var t=e.haveNone,n=e.items,a=e.label,r=e.helperText,o=e.fullWidth,c=e.FormControlProps,l=e.SelectProps,u=e.className,s=e.classes,d=e.name,f=e.transformer;return i.a.createElement(Ft,{name:d,defaultValue:[]},(function(e){var p=e.setFieldValue,m=e.error,h=e.touched,g=e.onBlur,E=e.value;return i.a.createElement(Be.a,Object.assign({fullWidth:o},c,{error:Boolean(h&&m),className:u}),a&&i.a.createElement(Ue.a,{htmlFor:d},a),i.a.createElement(Me.a,Object.assign({},l,{onBlur:g,onChange:function(e){return p(f?f(Ht(e)):Ht(e))},autoWidth:!0,multiple:!0,name:d,input:i.a.createElement(Mt.a,{name:d,id:d}),renderValue:function(e){var t=e;return i.a.createElement("div",{className:s.chips},n.reduce((function(e,n){return t.indexOf(n.value)>=0&&e.push(i.a.createElement(Tt.a,{key:n.value,label:n.label,className:s.chip})),e}),[]))},MenuProps:{PaperProps:{style:{maxHeight:224,width:250}}}}),t&&i.a.createElement(_e.a,{value:""},i.a.createElement("em",null,"None")),n.map((function(e){return i.a.createElement(_e.a,{value:e.value,key:e.value,classes:{root:Gt(E,e.value)?s.selected:s.unselected}},e.label)}))),r||h&&m&&i.a.createElement(_t.a,null,h&&m||r))}))})),n(279)),qt=n(425),Kt=n(426),Yt=function(e){var t=e.helperText,n=e.className,a=e.type,c=e.TextFieldProps,l=void 0===c?{}:c,u=e.label,s=e.name,d=e.fullWidth,f=e.transformer,p=Object(o.useState)(!1),m=Object(r.a)(p,2),h=m[0],g=m[1],E=function(){g(!h)};return i.a.createElement(Ft,{name:s,defaultValue:""},(function(e){var r=e.onBlur,o=e.setFieldValue,c=e.value,s=e.touched,p=e.error;return i.a.createElement(Ie.a,Object.assign({type:a},l,{fullWidth:d,onBlur:r,value:c,onChange:function(e){return o(f?f(e.target.value):e.target.value)},label:u,InputProps:{endAdornment:"password"===a?i.a.createElement(Wt.a,{position:"end"},i.a.createElement(je.a,{"aria-label":"Toggle password visibility",onClick:E},h?i.a.createElement(qt.a,null):i.a.createElement(Kt.a,null))):null},className:n,error:Boolean(s&&p),helperText:s&&p||t}))}))},zt=n(30),$t=zt.d().shape({id:zt.c(),from:zt.b().required("Required").when("$status",(function(e,t){if(e===a.SUBMITTING)return t.transform((function(e){return yt()(e).unix()}))})).test("not-greater-than-to",'Value should not be greater than the value of "to"',(function(e){var t=this.parent.to;return yt()(e).isBefore(t)})),to:zt.b().required("Required").when("$status",(function(e,t){if(e===a.SUBMITTING)return t.transform((function(e){return yt()(e).unix()}))})).test("not-greater-than-to",'Value should not be lesser than the value of "from"',(function(e){var t=this.parent.from;return yt()(e).isAfter(t)})),userId:zt.c().required("Required"),vehicleId:zt.c().required("Required"),bookingType:zt.b().oneOf(Object.values(ft.BookingType)),replaceVehicle:zt.b().when(["bookingType","$status"],(function(e,t,n){return t===a.SUBMITTING&&e!==ft.BookingType.REPLACEMENT?n.nullable().transform((function(){return null})):e===ft.BookingType.REPLACEMENT?zt.d().shape({plateNumber:zt.e().required("Required"),brand:zt.e().required("Required"),model:zt.e().required("Required"),vin:zt.e().transform((function(e){return e.toUpperCase()})).required("Required")}):void 0}))}),Xt=function(e){var t=e.vehicleList,n=e.userList,a=e.locationList,r=e.onSubmit,o=e.values,c=(e.loading,Object(xt.a)(e,["vehicleList","userList","locationList","onSubmit","values","loading"]));return i.a.createElement(wt,Object.assign({},c,{validationSchema:$t,values:o,title:"Update Booking",footer:i.a.createElement(Le.a,{variant:"contained",color:"primary",onClick:r},"Submit")}),i.a.createElement(V.a,{container:!0,spacing:1},i.a.createElement(V.a,{item:!0,xs:12,lg:6},i.a.createElement(Ut,{fullWidth:!0,name:"from",label:"From"})),i.a.createElement(V.a,{item:!0,xs:12,lg:6},i.a.createElement(Ut,{fullWidth:!0,name:"to",label:"To"})),i.a.createElement(V.a,{item:!0,xs:12,lg:6},i.a.createElement(Vt,{fullWidth:!0,name:"userId",label:"Booked User",items:n})),i.a.createElement(V.a,{item:!0,xs:12,lg:6},i.a.createElement(Vt,{fullWidth:!0,name:"bookingType",label:"Booking Type",items:Object.values(ft.BookingType).map((function(e){return{label:Object(vt.f)(e),value:e}}))})),i.a.createElement(V.a,{item:!0,xs:12,lg:6},i.a.createElement(Vt,{fullWidth:!0,name:"locationId",label:"Location",items:a})),i.a.createElement(V.a,{item:!0,xs:12,lg:6},i.a.createElement(Vt,{fullWidth:!0,name:"vehicleId",label:"Booked Vehicle",items:t})),o.bookingType===ft.BookingType.REPLACEMENT?i.a.createElement(i.a.Fragment,null,i.a.createElement(V.a,{item:!0,xs:12,lg:6},i.a.createElement(Yt,{fullWidth:!0,name:"replaceVehicle.plateNumber",label:"Plate Number",transformer:function(e){return e.toUpperCase()}})),i.a.createElement(V.a,{item:!0,xs:12,lg:6},i.a.createElement(Yt,{fullWidth:!0,name:"replaceVehicle.brand",label:"Brand"})),i.a.createElement(V.a,{item:!0,xs:12,lg:6},i.a.createElement(Yt,{fullWidth:!0,name:"replaceVehicle.model",label:"Model"})),i.a.createElement(V.a,{item:!0,xs:12,lg:6},i.a.createElement(Yt,{fullWidth:!0,name:"replaceVehicle.vin",label:"VIN",transformer:function(e){return e.toUpperCase()}}))):null))},Zt=n(48),Jt=n(460),Qt=n(427),en=n(250),tn=n(100),nn=function(e){function t(e){var n;Object(h.a)(this,t),(n=Object(E.a)(this,Object(b.a)(t).call(this,e))).filterChangeHandler=Object(en.debounce)((function(e){return n.setState({filter:e})}),200),n.searchCardList=function(e){return n.props.cards.filter((function(t){var n=t.props,a=n.descriptions,r=n.title,o=!1;if(a){var i=!0,c=!1,l=void 0;try{for(var u,s=a[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var d=u.value;if(Object(tn.j)(e,d)){o=!0;break}}}catch(f){c=!0,l=f}finally{try{i||null==s.return||s.return()}finally{if(c)throw l}}}r&&(Object(tn.j)(e,r)&&(o=!0));return o}))},n.getPaginatedList=function(e){return e.slice(n.state.page,n.state.page+n.state.rowsPerPage)};var a=[4,10,20,50,100];return n.state={filter:"",page:0,count:0,rowsPerPageOptions:a,rowsPerPage:a[0]},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.cards,a=t.GridProps,r=t.classes,o=t.showAll,c=t.details,l=Object(Zt.a)(n),u=l,s=u;o||(u=this.searchCardList(this.state.filter),s=this.getPaginatedList(u));var d=l.some((function(e){return!(!e.props||!e.props.selected)}));return i.a.createElement("div",{className:r.root},c&&i.a.createElement(V.a,{item:!0,xs:12},c(s)),!o&&i.a.createElement(V.a,{container:!0,justify:"space-between",className:r.options},i.a.createElement(V.a,{item:!0,xs:12,md:6},i.a.createElement(Ie.a,{className:r.textField,onChange:function(t){return e.filterChangeHandler(t.target.value)},label:"Search",InputProps:{startAdornment:i.a.createElement(Wt.a,{position:"start"},i.a.createElement(Qt.a,null))}})),i.a.createElement(V.a,{item:!0,xs:12,md:6},i.a.createElement(Jt.a,{classes:{selectRoot:r.selectRoot,actions:r.actions},labelRowsPerPage:"Cards per page:",rowsPerPage:this.state.rowsPerPage,rowsPerPageOptions:this.state.rowsPerPageOptions,count:u.length,page:this.state.page,onChangeRowsPerPage:function(t){return e.setState({rowsPerPage:parseInt(t.target.value)})},onChangePage:function(t,n){return e.setState({page:n})},component:"div"}))),i.a.createElement(V.a,Object.assign({container:!0,spacing:1},a,{className:I()(r.cardContainer,Object(O.a)({},r.selected,d))}),s.map((function(e){var t=e.props,n=e.GridProps,a=e.id;return i.a.createElement(V.a,Object.assign({item:!0,xs:12,sm:12,md:6,key:a},n,{classes:{root:r.gridItem}}),i.a.createElement(sn,t))}))))}}]),t}(o.Component),an=Object(l.a)((function(e){return Object(c.a)({root:{padding:e.spacing(1)},gridItem:{"&&":{overflow:"visible"}},cardContainer:{transition:e.transitions.create(["transform"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},selected:{transform:"scale(0.9)"},options:{marginBottom:e.spacing(1)},textField:Object(O.a)({},e.breakpoints.down("md"),{width:"100%"}),selectRoot:Object(O.a)({},e.breakpoints.down("xs"),{margin:0}),actions:Object(O.a)({},e.breakpoints.down("xs"),{margin:0})})}))(nn),rn=n(878),on=n(879),cn=n(880),ln=n(881),un=n(76),sn=Object(l.a)((function(e){return Object(c.a)({root:{width:"100%",transition:e.transitions.create(["transform","box-shadow"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},cardContent:{},icon:{filter:"drop-shadow(5px 3px 2px rgba(0,0,0,0.3))",position:"absolute",left:0,height:"100%",width:"100%",color:e.palette.primary.main},metaIconContainer:{display:"flex",flexDirection:"row-reverse",padding:e.spacing(2)},selected:{boxShadow:e.shadows[5],transform:"scale(1.11) translateY(-3px)",zIndex:1},card:{width:"100%",display:"flex"},details:{display:"flex",flexBasis:"20%",flexDirection:"column",justifyContent:"space-between"},controls:{display:"flex",alignItems:"center",paddingLeft:e.spacing(1),paddingBottom:e.spacing(1)},media:{position:"relative",flexGrow:1,display:"flex",flexDirection:"column-reverse"}})}))((function(e){var t=e.classes,n=e.title,a=e.descriptions,r=e.controls,o=e.imgSrc,c=e.onClick,l=e.iconName,u=e.CardContentProps,s=e.TitleProps,d=e.selected,f=e.metaIcons,p=void 0===f?[]:f,m=l&&un[l],h=o?rn.a:"div",g=i.a.createElement(on.a,{className:t.card},i.a.createElement("div",{className:t.details},i.a.createElement(cn.a,u,n&&i.a.createElement(G.a,Object.assign({component:"h1",variant:"h6"},s),n),a&&a.map((function(e,t){return i.a.createElement(G.a,{key:t,variant:"subtitle1",color:"textSecondary"},e)}))),r&&i.a.createElement("div",{className:t.controls},r)),i.a.createElement(h,{className:t.media,image:o,title:n},l&&i.a.createElement(m,{className:t.icon}),i.a.createElement("div",{className:t.metaIconContainer},p.map((function(e){var t=e.tooltip,n=void 0===t?"":t,a=e.iconName,r=void 0===a?"Info":a,o=e.className,c=un[r];return i.a.createElement(N.a,{title:n},i.a.createElement(c,{className:o}))})))));return c?i.a.createElement(ln.a,{className:I()(t.root,Object(O.a)({},t.selected,d)),onClick:function(e){return c&&c()}},g):i.a.createElement("div",{className:I()(t.root,Object(O.a)({},t.selected,d))},g)})),dn=n(138),fn=n(889),pn=n(882),mn=n(886),hn=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(E.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).C=function(e){return i.a.createElement(gn,e)},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return i.a.createElement(this.C,this.props)}}]),t}(o.Component);hn.getFirstPage=function(e){return hn.filterHiddenSteps(e)[0]},hn.getLastPage=function(e){var t=hn.filterHiddenSteps(e);return t[t.length-1]},hn.filterHiddenSteps=function(e){return e.filter((function(e){return!0!==e.hidden}))},hn.getPageById=function(e,t){return t.find((function(t){return t.id===e}))},hn.getPageIndexById=function(e,t){return t.findIndex((function(t){return t.id===e}))},hn.isLastPage=function(e,t){var n=hn.getLastPage(t);return n&&n.id===e||!1},hn.isFirstPage=function(e,t){var n=hn.getFirstPage(t);return n&&n.id===e||!1},hn.getNextPage=function(e,t){var n=hn.isLastPage(e,t),a=hn.filterHiddenSteps(t);if(!n)return a[hn.getPageIndexById(e,a)+1]},hn.getPreviousPage=function(e,t){var n=hn.isFirstPage(e,t),a=hn.filterHiddenSteps(t);if(!n)return a[hn.getPageIndexById(e,a)-1]},hn.setPageState=function(e,t,n){var a=hn.getPageIndexById(e,n),r=n[a],o=n.slice(0,a),i=n.slice(a+1);return[].concat(Object(Zt.a)(o),[Lt.a.merge(r,t)],Object(Zt.a)(i))},hn.getStepperActiveStepIndex=function(e,t){return hn.filterHiddenSteps(t).findIndex((function(t){return t.id===e}))},hn.getPageErrors=function(e,t){return t&&Lt.a.pick(t,e.fields)||{}},hn.touchPageFields=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,a=e.fields.reduce((function(e,t){return Lt.a.set(e,t,!0),e}),{});n&&n(Object(dn.a)({},t,{},a))};var gn=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(E.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).render=function(){var e=n.props,t=e.actions,a=e.steps,r=e.currentStep,o=e.onStepsChange,c=e.onNavigateStep,l=e.render,u=Object(xt.a)(e,["actions","steps","currentStep","onStepsChange","onNavigateStep","render"]),s=hn.getPageById(r,a),d=hn.filterHiddenSteps(a),f={isFirstPage:hn.isFirstPage(r,a),isLastPage:hn.isLastPage(r,a),nextPage:function(){var e=hn.getNextPage(r,a);e&&c(e.id)},previousPage:function(){var e=hn.getPreviousPage(r,a);e&&c(e.id)},setPageState:function(e,t){var n=hn.setPageState(t||s.id,e,a);o(n)},getPageErrors:function(){return hn.getPageErrors(s,u.errors)},touchPageFields:function(){return hn.touchPageFields(s,u.touched,u.onFieldTouch)}};return i.a.createElement(wt,Object.assign({},u,{header:i.a.createElement(fn.a,{activeStep:hn.getStepperActiveStepIndex(r,a)},d.map((function(e){return i.a.createElement(pn.a,{completed:e.completed,disabled:e.disabled,active:e.id===s.id,key:e.id},i.a.createElement(mn.a,{alternativeLabel:!0,error:e.error},e.label))}))),footer:"function"===typeof t?t(f):t}),"function"===typeof l?l(f):l)},n}return Object(v.a)(t,e),t}(o.Component),En=n(64),bn=Object(En.a)((function(e){return{spacer:{"& > *":{margin:e.spacing(1)}}}})),vn=function(e){var t=e.onBookingTypeChange,n=e.users;return i.a.createElement(i.a.Fragment,null,i.a.createElement(V.a,{container:!0,spacing:6},i.a.createElement(V.a,{xs:12,md:6,item:!0},i.a.createElement(Ut,{fullWidth:!0,label:"Start",name:"from"})),i.a.createElement(V.a,{xs:12,md:6,item:!0},i.a.createElement(Ut,{fullWidth:!0,label:"End",name:"to"})),n&&i.a.createElement(V.a,{xs:12,md:12,item:!0},i.a.createElement(Vt,{fullWidth:!0,label:"User",name:"userId",items:n}))),i.a.createElement(Ft,{name:"bookingType"},(function(e){return i.a.createElement(Tn,{onClick:function(n){e.setFieldValue(n),t(n)},value:e.value})})))},On=function(){return i.a.createElement(V.a,{container:!0,spacing:6},i.a.createElement(V.a,{xs:12,md:6,item:!0},i.a.createElement(Yt,{fullWidth:!0,label:"Plate Number",name:"replaceVehicle.plateNumber"})),i.a.createElement(V.a,{xs:12,md:6,item:!0},i.a.createElement(Yt,{fullWidth:!0,label:"VIN",name:"replaceVehicle.vin"})),i.a.createElement(V.a,{xs:12,md:6,item:!0},i.a.createElement(Yt,{fullWidth:!0,label:"Brand",name:"replaceVehicle.brand"})),i.a.createElement(V.a,{xs:12,md:6,item:!0},i.a.createElement(Yt,{fullWidth:!0,label:"Model",name:"replaceVehicle.model"})))},yn=function(e){var t=e.locations;return i.a.createElement(V.a,{container:!0,direction:"column",spacing:2},i.a.createElement(V.a,{item:!0},i.a.createElement(Vt,{label:"Location",name:"locationId",fullWidth:!0,items:t.map((function(e){return{label:e.label,value:e.value}}))})),i.a.createElement(V.a,{item:!0},i.a.createElement(Ft,{name:"locationId"},(function(e){return i.a.createElement(jn,{onClick:function(t){e.setFieldValue(t)},locations:t.map((function(e){return{name:e.label,id:e.value,lat:e.lat,lng:e.lng}})),value:e.value})}))))},Cn=Object(c.a)({card:{minHeight:"200px"},fullHeight:{height:"100%",overflow:"hidden"}}),An=Object(l.a)(Cn)((function(e){var t=e.vehicles,n=e.classes;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Ft,{name:"vehicleId"},(function(e){return i.a.createElement(an,{cards:t.map((function(t){var a={GridProps:{xs:12,sm:12,className:n.fullHeight},id:t.id,props:{classes:{card:n.card},selected:t.id===e.value,title:t.label,imgSrc:t.vehicleImageSrc||"/static/images/car-no-image-avl.jpg",descriptions:[t.plateNumber],onClick:function(){return e.setFieldValue(t.id)},iconName:t.id===e.value?"Done":""}};return t.cost&&a.props.descriptions&&a.props.descriptions.push(t.cost),a}))})})))})),kn=function(e){var t=e.onNext,n=e.onPrev,a=e.onSubmit,r=e.loading,o=e.onNextDisabled,c=bn();return i.a.createElement("div",{className:c.spacer},n&&i.a.createElement(Le.a,{onClick:n,disabled:r||void 0===n,variant:"contained",color:"primary"},"Previous"),t&&i.a.createElement(Le.a,{disabled:r||o,onClick:t,variant:"contained",color:"primary"},"Next"),a&&i.a.createElement(Le.a,{disabled:r,onClick:a,variant:"contained",color:"primary"},"Submit"))},Nn=zt.d().shape({from:zt.b().required("Required").test("not-greater-than-to",'Value should not be greater than the value of "to"',(function(e){var t=this.parent.to;return yt()(e).isBefore(t)})).when("$bookings",(function(e,t){return t.test("no-same-schedules","You already have a booking during this time.",(function(t){var n=this.parent,a=n.userId,r=n.to;return!t||!r||!e.filter((function(e){return e.userId===a})).some((function(e){return Object(vt.e)(yt()(t).unix(),yt()(r).unix(),e.from,e.to)}))}))})).when("$status",(function(e,t){if(e===a.SUBMITTING)return t.transform((function(e){return yt()(e).unix()}))})),to:zt.b().required("Required").test("not-greater-than-to",'Value should not be lesser than the value of "from"',(function(e){var t=this.parent.from;return yt()(e).isAfter(t)})).when("$bookings",(function(e,t){return t.test("no-same-schedules","You already have a booking during this time.",(function(t){var n=this.parent,a=n.userId,r=n.from;return!r||!t||!e.filter((function(e){return e.userId===a})).some((function(e){return Object(vt.e)(yt()(r).unix(),yt()(t).unix(),e.from,e.to)}))}))})).when("$status",(function(e,t){if(e===a.SUBMITTING)return t.transform((function(e){return yt()(e).unix()}))})),locationId:zt.c().required("Required"),userId:zt.c().required("Required"),vehicleId:zt.c().required("Required"),bookingType:zt.b().oneOf(Object.values(ft.BookingType)).required("Required"),replaceVehicle:zt.b().when(["$values","$status"],(function(e,t,n){return t===a.SUBMITTING&&e!==ft.BookingType.REPLACEMENT?n.nullable().transform((function(){return null})):e===ft.BookingType.REPLACEMENT?zt.d().shape({plateNumber:zt.e().required("Required"),brand:zt.e().required("Required"),model:zt.e().required("Required"),vin:zt.e().transform((function(e){return e.toUpperCase()})).required("Required")}):void 0}))}),Sn=Object(l.a)((function(e){return Object(c.a)({root:{display:"flex",flexDirection:"column",height:"100%"},form:{height:"100%"},noVehiclePaper:{padding:e.spacing(3,2)},noVehicles:{margin:e.spacing(3)},vehiclelCard:{minHeight:"200px"},vehicleCardList:{height:"100%",overflow:"hidden"}})}))((function(e){var t=e.onSubmit,n=e.vehicles,c=e.locations,l=e.classes,u=e.users,s=e.bookings,d=e.loading,f=Object(xt.a)(e,["onSubmit","vehicles","locations","classes","users","bookings","loading"]),p=Object(o.useState)([{id:1,label:"Select booking type and schedule.",fields:["from","to","bookingType","userId"]},{id:2,hidden:!0,label:"Specify vehicle to be replaced.",fields:["replaceVehicle.plateNumber","replaceVehicle.vin","replaceVehicle.brand","replaceVehicle.model"]},{id:3,label:"Select location.",fields:["locationId"]},{id:4,label:"Select vehicle to book.",fields:["vehicleId"]}]),m=Object(r.a)(p,2),h=m[0],g=m[1],E=Object(o.useState)(1),b=Object(r.a)(E,2),v=b[0],O=b[1];return i.a.createElement(hn,Object.assign({},f,{validateOnMount:!0,steps:h,currentStep:v,onStepsChange:g,onNavigateStep:O,validateOnContextChange:!0,validationSchema:function(e){Nn.validateSync(e,{abortEarly:!1,context:{bookings:s}})},render:function(e){return function(e){switch(v){case 1:return i.a.createElement(vn,{users:u,onBookingTypeChange:function(t){t===ft.BookingType.REPLACEMENT?e.setPageState({hidden:!1},2):e.setPageState({hidden:!0},2)}});case 2:return i.a.createElement(On,null);case 3:return i.a.createElement(yn,{locations:c});case 4:var t=n.filter((function(e){return f.values.locationId===e.locationId}));return t.length>0?i.a.createElement(An,{vehicles:t}):i.a.createElement("div",{className:l.noVehicles},i.a.createElement(M.a,{className:l.noVehiclePaper},i.a.createElement(G.a,{variant:"h5",component:"h1"},"Sorry. There are no available vehicles."),i.a.createElement(G.a,{component:"p"},"Please change your pickup location or schedule.")));default:return null}}(e)},actions:function(e){var n=e.getPageErrors(),r=n&&Object.keys(n).length>0;return i.a.createElement(kn,{loading:d,onNextDisabled:r,onNext:!e.isLastPage&&function(){r?e.touchPageFields():(e.setPageState({completed:!0}),e.nextPage&&e.nextPage())}||void 0,onPrev:!e.isFirstPage&&function(){e.setPageState({completed:!1}),e.previousPage&&e.previousPage()}||void 0,onSubmit:e.isLastPage&&function(){var e=Nn.cast(f.values,{context:{bookings:s,status:a.SUBMITTING}});t(e)}||void 0})}}))})),Tn=Object(l.a)((function(e){return Object(c.a)({root:{display:"flex",flexDirection:"column",height:"100%"},map:{height:"100%"},form:{flexGrow:1,overflowY:"auto",overflowX:"hidden",display:"flex",flexDirection:"column"},actions:{"& > *":{margin:e.spacing(1)}},noVehiclePaper:{padding:e.spacing(3,2)},noVehicles:{margin:e.spacing(3)},bookingListCard:{flexDirection:"column",height:"120px"},bookingListGridContainer:{width:"100%",maxWidth:"450px",margin:"auto"},bookingListCardContent:{padding:e.spacing(1),"&:last-child":{paddingBottom:e.spacing(1)}},bookingListCardTitle:{fontSize:"1rem"}})}))((function(e){var t=e.onClick,n=e.classes,a=e.value;return i.a.createElement(an,{classes:{root:n.bookingListGridContainer},showAll:!0,cards:Object.values(ft.BookingType).reduce((function(e,r){var o;switch(r){case ft.BookingType.PRIVATE:o="Map";break;case ft.BookingType.BUSINESS:o="Work";break;case ft.BookingType.REPLACEMENT:o="Repeat";break;default:return e}return e.push({GridProps:{xs:4,sm:4,md:4,lg:4},id:r,props:{title:Object(vt.f)(r),iconName:o,selected:a===r,onClick:function(){return t(r)},classes:{card:n.bookingListCard},CardContentProps:{classes:{root:n.bookingListCardContent}},TitleProps:{classes:{root:n.bookingListCardTitle}}}}),e}),[])})})),In={lng:Number(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_CAR_BOOKING_API_DOMAIN:"http://localhost:5000",REACT_APP_CAR_BOOKING_CLIENT_DOMAIN:"http://localhost:3000"}).DEFAULT_LNG)||55.20161,lat:Number(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_CAR_BOOKING_API_DOMAIN:"http://localhost:5000",REACT_APP_CAR_BOOKING_CLIENT_DOMAIN:"http://localhost:3000"}).DEFAULT_LAT)||25.047736},jn=function(e){var t=e.locations,n=e.onClick,a=e.value,r=t.length>0&&function(e){var t=0,n=0,a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done);a=!0){var l=i.value;t+=l[0],n+=l[1]}}catch(u){r=!0,o=u}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return[t/e.length,n/e.length]}(t.map((function(e){return[e.lng,e.lat]})));return i.a.createElement(m,{center:r&&{lng:r[0],lat:r[1]}||In,zoom:9},t.map((function(e){var t=e.lat,r=e.lng,o=e.id,c=e.name;return i.a.createElement(P,{key:o,title:c,position:{lat:t,lng:r},onClick:function(){return n(o)},active:o===a})})))},xn=Object(o.createContext)({values:{},setFieldValue:Lt.a.noop,setTouchedField:Lt.a.noop,errors:{},touched:{}}),wn=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(E.a)(this,Object(b.a)(t).call(this,e))).setFieldValue=function(e,t){var a=Lt.a.set(Object(dn.a)({},n.props.values),e,t),r=n.validateForm(a);n.props.onChange(a,r,e)},n.setTouchedField=function(e){n.props.onFieldTouch&&n.props.onFieldTouch(Object(dn.a)({},n.props.touched,Object(O.a)({},e,!0)),e)},n.validateForm=function(e){var t=n.props,a=t.validationSchema,r=t.context,o={};if(a)try{"function"===typeof a?a(e,r):a.validateSync(e,{abortEarly:!1,stripUnknown:!0,context:r})}catch(i){i instanceof zt.a&&(o=n.getFieldErrors(i))}return o},n.getFieldErrors=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Object(dn.a)({},t);e.path&&Lt.a.set(a,e.path,e.message);var r=!0,o=!1,i=void 0;try{for(var c,l=e.inner[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){var u=c.value;Lt.a.set(a,u.path,u.message),a=n.getFieldErrors(u,a)}}catch(s){o=!0,i=s}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return a},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.validateOnMount,n=e.values,a=e.onChange;t&&a(n,this.validateForm(n))}},{key:"render",value:function(){var e=this.props,t=e.values,n=e.children;return i.a.createElement(xn.Provider,{value:{values:t,setFieldValue:this.setFieldValue,setTouchedField:this.setTouchedField,errors:this.props.errors||{},touched:this.props.touched||{}}},n)}}]),t}(o.Component),Pn=Object(c.a)({hints:{},root:{}}),Rn=Object(l.a)(Pn)((function(e){var t=e.classes,n=e.children,a=e.hints;return i.a.createElement("div",{className:t.root},n,a&&i.a.createElement(G.a,{classes:{root:t.hints}},a))})),Dn=Object(c.a)({title:{},errorChips:{},root:{},errorChipContainer:{}}),Ln=Object(l.a)(Dn)((function(e){var t=e.title,n=e.errorNotes,a=e.classes,r=e.children;return i.a.createElement("div",{className:a.root},r,t&&i.a.createElement(G.a,{variant:"h6",gutterBottom:!0,component:"h1",className:a.title},t),n&&i.a.createElement("div",{className:a.errorChipContainer},n.map((function(e,t){return i.a.createElement(jt,{classes:{root:a.errorChips},key:t,label:e})}))))})),Fn=n(883),Bn=n(846),Un=n(884),Mn=n(847),_n=function(e){var t=e.yes,n=e.no,a=e.title,r=e.content,o=e.disabled,c=Object(xt.a)(e,["yes","no","title","content","disabled"]);return i.a.createElement(dt,Object.assign({onClose:n},c,{open:!0}),a&&i.a.createElement(Fn.a,null,a),r&&i.a.createElement(Bn.a,null,i.a.createElement(Un.a,null,r)),i.a.createElement(Mn.a,null,i.a.createElement(Le.a,{onClick:t,disabled:o,color:"primary",variant:"contained"},"Yes"),i.a.createElement(Le.a,{onClick:n,disabled:o,color:"primary",variant:"contained",autoFocus:!0},"Cancel")))},Vn=zt.d().shape({amount:zt.c().typeError("You must specify a number.").required()}),Gn=Object(c.a)({root:{},title:{},value:{},field:{width:"100%"}}),Hn=Object(l.a)(Gn)((function(e){var t=e.vehicle,n=e.user,a=e.from,r=e.to,o=e.loading,c=e.classes,l=void 0===c?{}:c,u=e.onSubmit,s=e.onCancel,d=Object(xt.a)(e,["vehicle","user","from","to","loading","classes","onSubmit","onCancel"]),f=d.errors&&Object.keys(d.errors).length>0||!1,p=i.a.createElement(V.a,{container:!0,spacing:2},i.a.createElement(V.a,{item:!0},i.a.createElement(Le.a,{disabled:o,color:"primary",variant:"contained",onClick:s},"Cancel")),i.a.createElement(V.a,{item:!0},i.a.createElement(Le.a,{disabled:f||o,color:"primary",variant:"contained",onClick:u},"Submit")));return i.a.createElement(wt,Object.assign({validationSchema:Vn,footer:p,title:"Finalize Booking"},d),i.a.createElement(V.a,{container:!0,spacing:2},i.a.createElement(V.a,{item:!0,xs:6},i.a.createElement(Wn,{classes:{root:l.field},title:"Vehicle",value:t})),i.a.createElement(V.a,{item:!0,xs:6},i.a.createElement(Wn,{classes:{root:l.field},title:"User",value:n})),i.a.createElement(V.a,{item:!0,xs:6},i.a.createElement(Wn,{classes:{root:l.field},title:"From",value:yt()(a).format("lll")})),i.a.createElement(V.a,{item:!0,xs:6},i.a.createElement(Wn,{classes:{root:l.field},title:"To",value:yt()(r).format("lll")})),i.a.createElement(V.a,{item:!0,xs:12},i.a.createElement(Yt,{fullWidth:!0,name:"amount",type:"number",label:"Payment Amount"}))))})),Wn=Object(l.a)((function(e){return Object(c.a)({root:{},title:{marginRight:e.spacing(1)},value:{}})}))((function(e){var t=e.title,n=e.value,a=e.classes;return i.a.createElement("span",{className:a.root},i.a.createElement(G.a,{className:a.title,variant:"caption",display:"block",component:"span"},t,":"),i.a.createElement(G.a,{className:a.value,variant:"body1",component:"span"},n))}));n.d(t,"B",(function(){return m})),n.d(t,"D",(function(){return P})),n.d(t,"y",(function(){return _})),n.d(t,"J",(function(){return q})),n.d(t,"L",(function(){return Y})),n.d(t,"E",(function(){return Te})),n.d(t,"K",(function(){return Re})),n.d(t,"f",(function(){return Fe})),n.d(t,"H",(function(){return Ge})),n.d(t,"c",(function(){return Ye})),n.d(t,"I",(function(){return ze})),n.d(t,"j",(function(){return et})),n.d(t,"a",(function(){return rt})),n.d(t,"b",(function(){return ot})),n.d(t,"A",(function(){return ut})),n.d(t,"F",(function(){return dt})),n.d(t,"e",(function(){return Ct})),n.d(t,"k",(function(){return jt})),n.d(t,"w",(function(){return a})),n.d(t,"p",(function(){return wt})),n.d(t,"l",(function(){return Ft})),n.d(t,"m",(function(){return Ut})),n.d(t,"n",(function(){return Vt})),n.d(t,"o",(function(){return Yt})),n.d(t,"M",(function(){return $t})),n.d(t,"q",(function(){return Xt})),n.d(t,"g",(function(){return an})),n.d(t,"i",(function(){return sn})),n.d(t,"x",(function(){return hn})),n.d(t,"d",(function(){return Sn})),n.d(t,"h",(function(){return Tn})),n.d(t,"C",(function(){return jn})),n.d(t,"r",(function(){return xn})),n.d(t,"v",(function(){return wn})),n.d(t,"t",(function(){return Rn})),n.d(t,"u",(function(){return Ln})),n.d(t,"G",(function(){return _n})),n.d(t,"s",(function(){return Hn})),n.d(t,"z",(function(){return Wn})),n.d(t,"M",(function(){return $t})),n.d(t,"q",(function(){return Xt}))},49:function(e,t,n){"use strict";var a;!function(e){e.MASTER="MASTER",e.GUEST="GUEST",e.KEY_MANAGER="KEY_MANAGER",e.ADMIN="ADMIN"}(a||(a={})),t.a=a},534:function(e,t,n){e.exports=n(825)},61:function(e,t,n){"use strict";n(12),n(22),n(21);var a=n(161),r=n.n(a),o="http://localhost:5000",i=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise((function(i,c){var l=n,u={withCredentials:!0};if(void 0!==n&&a.formData){for(var s in l=new FormData,n)n[s]instanceof Blob?l.append(s,n[s]):l.append(s,JSON.stringify(n[s]));u.headers={"Content-Type":"multipart/form-data"}}"get"!==e&&"delete"!==e?r.a[e]("".concat(o).concat(t),l,u).then((function(e){return i(e.data)})).catch(c):"get"===e||"delete"===e?r.a[e]("".concat(o).concat(t),u).then((function(e){return i(e.data)})).catch(c):c("Unknown action '".concat(e,"'"))}))},c={authLogin:function(e){return i("post","/api/carbooking/auth/login",e)},authLogout:function(){return i("get","/api/carbooking/auth/logout")},resetPassword:function(e){return i("post","/api/carbooking/auth/forgot",e)},fetchCurrentUserDetails:function(){return i("get","/api/carbooking/auth/me")},updateMe:function(e){return i("patch","/api/carbooking/auth/me",e)},fetchUsers:function(){return i("get","/api/carbooking/users")},fetchUser:function(e){return i("get","/api/carbooking/users/".concat(e))},createUser:function(e){return i("post","/api/carbooking/users",e,{formData:!0})},updateUser:function(e){return i("patch","/api/carbooking/users/".concat(e.id),e,{formData:!0})},deleteUser:function(e){return i("delete","/api/carbooking/users/".concat(e))},inviteGuest:function(e){return i("post","/api/carbooking/invites",e)},createVehicle:function(e){return i("post","/api/carbooking/vehicles",e,{formData:!0})},fetchVehicles:function(e,t){return i("get","/api/carbooking/vehicles".concat(e&&t?"?from=".concat(e,"&to=").concat(t):""))},fetchVehicle:function(e){return i("get","/api/carbooking/vehicles/".concat(e))},updateVehicle:function(e){return i("patch","/api/carbooking/vehicles/".concat(e.id),e,{formData:!0})},createBooking:function(e){return i("post","/api/carbooking/bookings/",e)},fetchBookings:function(){return i("get","/api/carbooking/bookings")},fetchBooking:function(e){return i("get","/api/carbooking/bookings/".concat(e))},updateBooking:function(e){return i("patch","/api/carbooking/bookings/".concat(e.id),e)},deleteBooking:function(e){return i("delete","/api/carbooking/bookings/".concat(e))},createLocation:function(e){return i("post","/api/carbooking/locations",e,{formData:!0})},fetchLocations:function(){return i("get","/api/carbooking/locations")},fetchLocation:function(e){return i("get","/api/carbooking/locations/".concat(e))},updateLocation:function(e){return i("patch","/api/carbooking/locations/".concat(e.id),e,{formData:!0})},deleteLocation:function(e){return i("delete","/api/carbooking/locations/".concat(e))},fetchAccident:function(e){return i("get","/api/carbooking/accidents/".concat(e))},fetchAccidents:function(){return i("get","/api/carbooking/accidents")},createAccident:function(e){return i("post","/api/carbooking/accidents",e,{formData:!0})},updateAccident:function(e){return i("patch","/api/carbooking/accidents/".concat(e.id),e,{formData:!0})},deleteAccident:function(e){return i("delete","/api/carbooking/accidents/".concat(e))},fetchCategories:function(){return i("get","/api/carbooking/categories")},createCategories:function(e){return i("post","/api/carbooking/categories",e)},updateCategory:function(e){return i("patch","/api/carbooking/categories/".concat(e.id),e)},deleteCategory:function(e){return i("delete","/api/carbooking/categories/".concat(e))},fetchClients:function(){return i("get","/api/carbooking/clients")},fetchClient:function(e){return i("get","/api/carbooking/clients/".concat(e))},createClient:function(e){return i("post","/api/carbooking/clients",e)},updateClient:function(e,t){return i("patch","/api/carbooking/clients/".concat(e),t)},deleteClient:function(e){return i("delete","/api/carbooking/clients/".concat(e))},fetchWialonUnits:function(){return i("get","/api/carbooking/wialon/units")},fetchVehicleIssues:function(){return i("get","/api/carbooking/issues")},createVehicleIssue:function(e){return i("post","/api/carbooking/issues",e)},updateVehicleIssue:function(e){return i("patch","/api/carbooking/issues/".concat(e.id),e)},deleteVehicleIssue:function(e){return i("delete","/api/carbooking/issues/".concat(e))},fetchUnitSummaryReport:function(){return i("get","/api/carbooking/reports/unit-summary")}};t.a=c},77:function(e,t,n){"use strict";var a=n(22),r=n(21),o=n(23),i=function e(){Object(a.a)(this,e)};i.roleRanks=[o.Role.MASTER,o.Role.ADMIN,o.Role.KEY_MANAGER,o.Role.GUEST],i.isRoleBetter=function(e,t){var n=i.roleRanks.findIndex((function(t){return t===e})),a=i.roleRanks.findIndex((function(e){return e===t}));return n>=0&&a>=0&&a<=n};var c=n(100);n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return c.h})),n.d(t,"c",(function(){return c.e})),n.d(t,"e",(function(){return c.i})),n.d(t,"f",(function(){return c.k}));var l=function(){function e(){Object(a.a)(this,e),this.fieldErrors={},this.formErrors=[]}return Object(r.a)(e,[{key:"addFieldError",value:function(e){this.fieldErrors[e.key]?this.fieldErrors[e.key]+=" ".concat(e.value):this.fieldErrors[e.key]=e.value}},{key:"addFormError",value:function(e){this.formErrors.push(e)}}]),e}();l.handleFormApiErrors=function(e){var t=new l,n=e.errors;return n&&!n.length||!n?t.addFormError(e.message):n&&n.forEach((function(e){"string"===typeof e?t.addFormError(e):t.addFieldError(e)})),t}},825:function(e,t,n){"use strict";n.r(t);var a=n(48),r=n(0),o=n.n(r),i=n(28),c=n.n(i),l=n(462),u=n(463),s=n(54),d=n(488),f=n(873),p=n(75),m=n(491),h=n(194),g=n(38),E=n(465),b=n(46),v=(n(542),n(27)),O=Object(s.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.a.AUTH_LOGIN:case v.a.FETCH_CURRENT_USER_DETAILS:case v.a.AUTH_LOGOUT:return t.payload;default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.a.FETCH_USERS:return t.payload;default:return e}},vehicles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.a.FETCH_VEHICLES:return t.payload;default:return e}},bookings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.a.FETCH_BOOKINGS:return t.payload;default:return e}},locations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.a.FETCH_LOCATIONS:return t.payload;default:return e}},accidents:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.a.FETCH_ACCIDENTS:return t.payload;default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.a.FETCH_CATEGORIES:return t.payload;default:return e}},clients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.a.FETCH_CLIENTS:return t.payload;default:return e}},wialonUnits:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.a.FETCH_WIALON_UNITS:return t.payload;default:return e}}}),y=n(10),C=n(162),A=n(112),k=n(237),N=n(6),S=n(136),T=n(885),I=n(47),j=Object(s.compose)(Object(p.b)((function(e){return{auth:e.auth}})))((function(e){var t=e.auth,n=e.children;return null===t?o.a.createElement(I.A,null):!1===t?o.a.createElement(A.a,{to:"/login"}):n})),x=n(12),w=n.n(x),P=n(181),R=n(439),D=n(180),L=n(72),F=n(442),B=n(436),U=n(448),M=n(452),_=n(321),V=n(454),G=n(447),H=n(430),W=n(451),q=n(49),K=n(22),Y=n(21),z=n(33),$=n(32),X=n(34),Z=n(100),J=function(e){function t(){var e,n;Object(K.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(z.a)(this,(e=Object($.a)(t)).call.apply(e,[this].concat(r)))).state={mod:null,promise:null},n}return Object(X.a)(t,e),Object(Y.a)(t,[{key:"componentWillUnmount",value:function(){this.state.promise&&this.state.promise.cancel()}},{key:"componentWillMount",value:function(){var e=this;this.setState({promise:Object(Z.d)(this.props.load().then((function(t){return e.setState({mod:t})})))})}},{key:"render",value:function(){return this.props.children(this.state.mod)}}]),t}(r.Component),Q=[{id:"Home",path:"/",component:function(e){return o.a.createElement(J,{load:function(){return w.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.awrap(Promise.all([n.e(2),n.e(16)]).then(n.bind(null,917)));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}))}},(function(t){return t?o.a.createElement(t,e):o.a.createElement(I.A,null)}))},exact:!0,requireLogin:!0,sidebar:{title:"Home",icon:F.a,location:"top"},wrapPaper:!0},{id:"Bookings",path:"/bookings",component:function(e){return o.a.createElement(J,{load:function(){return w.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.awrap(Promise.all([n.e(2),n.e(14)]).then(n.bind(null,918)));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}))}},(function(t){return t?o.a.createElement(t,e):o.a.createElement(I.A,null)}))},requireLogin:!0,sidebar:{title:"Bookings",icon:B.a,location:"top"},wrapPaper:!0},{id:"Locations",path:"/locations",access:[q.a.MASTER,q.a.KEY_MANAGER,q.a.ADMIN],component:function(e){return o.a.createElement(J,{load:function(){return w.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.awrap(Promise.all([n.e(0),n.e(1),n.e(8)]).then(n.bind(null,926)));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}))}},(function(t){return t?o.a.createElement(t,e):o.a.createElement(I.A,null)}))},requireLogin:!0,sidebar:{title:"Locations",icon:U.a,location:"top"},wrapPaper:!0},{id:"Login",path:"/login",component:function(e){return o.a.createElement(J,{load:function(){return w.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.awrap(Promise.all([n.e(0),n.e(10)]).then(n.bind(null,925)));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}))}},(function(t){return t?o.a.createElement(t,e):o.a.createElement(I.A,null)}))}},{id:"SignUp",path:"/signup",component:function(e){return o.a.createElement(J,{load:function(){return w.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.awrap(Promise.all([n.e(0),n.e(11)]).then(n.bind(null,928)));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}))}},(function(t){return t?o.a.createElement(t,e):o.a.createElement(I.A,null)}))},wrapPaper:!0},{id:"Users",path:"/users",component:function(e){return o.a.createElement(J,{load:function(){return w.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.awrap(Promise.all([n.e(0),n.e(1),n.e(6)]).then(n.bind(null,924)));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}))}},(function(t){return t?o.a.createElement(t,e):o.a.createElement(I.A,null)}))},requireLogin:!0,access:[q.a.MASTER,q.a.KEY_MANAGER,q.a.ADMIN],sidebar:{title:"Users",icon:M.a,location:"top"},wrapPaper:!0},{id:"Vehicles",path:"/vehicles",component:function(e){return o.a.createElement(J,{load:function(){return w.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.awrap(Promise.all([n.e(0),n.e(1),n.e(7)]).then(n.bind(null,921)));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}))}},(function(t){return t?o.a.createElement(t,e):o.a.createElement(I.A,null)}))},requireLogin:!0,sidebar:{title:"Vehicles",icon:_.a,location:"top"},wrapPaper:!0},{id:"Accidents",path:"/accidents",component:function(e){return o.a.createElement(J,{load:function(){return w.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.awrap(Promise.all([n.e(0),n.e(1),n.e(12)]).then(n.bind(null,923)));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}))}},(function(t){return t?o.a.createElement(t,e):o.a.createElement(I.A,null)}))},requireLogin:!0,access:[q.a.MASTER,q.a.KEY_MANAGER,q.a.ADMIN],sidebar:{title:"Accidents",icon:V.a,location:"top"},wrapPaper:!0},{id:"Clients",path:"/clients",component:function(e){return o.a.createElement(J,{load:function(){return w.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.awrap(n.e(15).then(n.bind(null,922)));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}))}},(function(t){return t?o.a.createElement(t,e):o.a.createElement(I.A,null)}))},requireLogin:!0,access:[q.a.MASTER],sidebar:{title:"Clients",icon:G.a,location:"top"},wrapPaper:!0},{id:"Reports",path:"/reports",component:function(e){return o.a.createElement(J,{load:function(){return w.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.awrap(Promise.all([n.e(2),n.e(17)]).then(n.bind(null,919)));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}))}},(function(t){return t?o.a.createElement(t,e):o.a.createElement(I.A,null)}))},requireLogin:!0,access:[q.a.MASTER,q.a.ADMIN,q.a.KEY_MANAGER],sidebar:{title:"Reports",icon:H.a,location:"top"},wrapPaper:!0},{id:"Settings",path:"/settings",component:function(e){return o.a.createElement(J,{load:function(){return w.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.awrap(Promise.all([n.e(0),n.e(9)]).then(n.bind(null,927)));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}))}},(function(t){return t?o.a.createElement(t,e):o.a.createElement(I.A,null)}))},requireLogin:!0,sidebar:{title:"Settings",icon:W.a,location:"bottom"},wrapPaper:!0},{id:"404",path:"/",component:function(e){return o.a.createElement(J,{load:function(){return w.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.awrap(n.e(13).then(n.bind(null,920)));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}))}},(function(t){return t?o.a.createElement(t,e):o.a.createElement(I.A,null)}))},exact:!1}],ee=Object(P.a)(Object(p.b)((function(e){return{auth:e.auth}}),D),A.h)((function(e){var t=e.auth,n=e.history,a=e.fetchCurrentUserDetails,i=e.authLogout;Object(r.useEffect)((function(){a()}),[]);var c,l=[],u=[];if(t&&t.data){var s=[],d=[],f=t.data.role;c={title:"".concat(t.data.firstName," ").concat(t.data.lastName),subtitle:"".concat(Object(Z.k)(f)),initials:"".concat(t.data.firstName[0]||"").concat(t.data.lastName[0]||""),imgSrc:t.data.userImageSrc};var p=!0,m=!1,h=void 0;try{for(var g,E=function(){var e=g.value;void 0!==e.sidebar&&(void 0===e.access||e.access&&e.access.includes(f))&&("bottom"===e.sidebar.location?d.push({icon:o.a.createElement(e.sidebar.icon,null),text:o.a.createElement(L.a,null,e.sidebar.title),onClick:function(){return n.push(e.path)}}):s.push({icon:o.a.createElement(e.sidebar.icon,null),text:o.a.createElement(L.a,null,e.sidebar.title),onClick:function(){return n.push(e.path)}}))},b=Q[Symbol.iterator]();!(p=(g=b.next()).done);p=!0)E()}catch(v){m=!0,h=v}finally{try{p||null==b.return||b.return()}finally{if(m)throw h}}s.length&&l.push(s),d.push({icon:o.a.createElement(R.a,null),text:o.a.createElement(L.a,null,"Logout"),onClick:function(){return w.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:i(),n.push("/");case 2:case"end":return e.stop()}}))}}),u.push(d)}return o.a.createElement(o.a.Fragment,null,o.a.createElement(I.b,{onLogoClick:function(){"/"!==n.location.pathname&&n.push("/")},showMenu:null!==t,list:l,endList:u,profile:c}))})),te=Object(p.b)(null,D)((function(e){var t=e.fetchCurrentUserDetails;e.location;return Object(r.useEffect)((function(){t()}),[]),o.a.createElement(ee,null)}));var ne=Object(N.a)((function(e){return Object(k.a)({"@global":{body:{background:"linear-gradient(215deg, #FE6B8B, #EECDA3)",height:"100%"},html:{height:"100%"},"#root":{height:"100%"},"::-webkit-scrollbar":{width:"5px",height:"5px"},"::-webkit-scrollbar-track":{background:"rgba(255, 255, 255, 0.1)",borderRadius:"1000px"},"::-webkit-scrollbar-thumb":{background:"#888",borderRadius:"1000px"},"::-webkit-scrollbar-thumb:hover":{background:"linear-gradient(180deg, #FF8E53 30%, #FE6B8B 90%)"}},app:{display:"flex",flexDirection:"column",height:"100%"},body:Object(y.a)({padding:e.spacing(2),margin:e.spacing(1),height:"100%",backgroundColor:"rgba(166, 166, 166, .2)",overflowY:"auto"},e.breakpoints.down("xs"),{padding:0})})}))((function(e){var t=e.classes;return o.a.createElement("div",{className:t.app},o.a.createElement(C.a,null,o.a.createElement(r.Fragment,null,o.a.createElement(A.b,{path:"/",exact:!1,component:te}),o.a.createElement(A.d,null,Q.map((function(e){var n=e.requireLogin,a=e.wrapPaper,r=e.id,i=e.path,c=e.exact,l=e.component;return o.a.createElement(A.b,{key:r,path:i,exact:c,render:function(e){var r=l(e),i=a?o.a.createElement(S.a,{className:t.body},r):r;return i=n?o.a.createElement(j,null,i):i}})}))))),o.a.createElement(T.a,null))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ae=Object(b.c)({plugins:Object(a.a)(Object(m.a)().plugins)}),re=Object(d.a)({palette:{primary:{main:"#FF875D",contrastText:"#000"},secondary:{main:"#11cb5f"}},overrides:{MuiAppBar:{root:{background:"linear-gradient(45deg, #FF8E53 30%, #FE6B8B 90%)",color:"black"}},MuiButton:{root:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",borderRadius:3,border:0,height:48,padding:"0 30px",boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)"},text:{color:"#000",background:"#FF875D",boxShadow:"none"},textPrimary:{color:"#000"}}}}),oe=Object(s.createStore)(O,{},Object(u.composeWithDevTools)(Object(s.applyMiddleware)(l.a)));c.a.render(o.a.createElement(p.a,{store:oe},o.a.createElement(h.b,{jss:ae},o.a.createElement(f.a,{theme:re},o.a.createElement(g.a,{utils:E.a},o.a.createElement(ne,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[534,4,5]]]);
//# sourceMappingURL=main.30e3ae67.chunk.js.map