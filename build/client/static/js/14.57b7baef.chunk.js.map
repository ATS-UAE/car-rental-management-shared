{"version":3,"sources":["components/pages/Bookings.tsx"],"names":["compose","withStyles","theme","createStyles","root","padding","spacing","breakpoints","down","marginBottom","items","connect","auth","actions","classes","fetchUsers","fetchVehicles","fetchLocations","fetchBookings","fetchCurrentUserDetails","history","useEffect","className","classNames","path","render","props","excludes","RoleEnum","KEY_MANAGER","variant","color","onClick","push"],"mappings":"yOA0HeA,sBACdC,aA7Bc,SAACC,GAAD,aACdC,YAAa,CACZC,MAAI,GACHC,QAASH,EAAMI,QAAQ,IADpB,cAEFJ,EAAMK,YAAYC,KAAK,MAAQ,CAC/BH,QAASH,EAAMI,QAAQ,GACvB,wBAAyB,CACxBG,aAAcP,EAAMI,QAAQ,MAL3B,uBAQK,QARL,yBASO,QATP,GAWJI,MAAO,CACN,wBAAwB,aACvBD,aAAcP,EAAMI,QAAQ,IAC3BJ,EAAMK,YAAYC,KAAK,MAAQ,CAC/BC,aAAcP,EAAMI,QAAQ,GAC5B,wBAAyB,CACxBG,aAAcP,EAAMI,QAAQ,YAWjCK,aAJuB,SAAC,GAAD,MAA4C,CAAEC,KAA9C,EAAGA,QAIDC,GAFXb,EA1FsC,SAAC,GAS/C,IARNc,EAQK,EARLA,QAEAC,GAMK,EAPLH,KAOK,EANLG,YACAC,EAKK,EALLA,cACAC,EAIK,EAJLA,eACAC,EAGK,EAHLA,cACAC,EAEK,EAFLA,wBACAC,EACK,EADLA,QAUA,OARAC,qBAAU,WACTH,IACAH,IACAC,IACAC,IACAE,MACE,IAGF,kBAAC,IAAD,CAAOG,UAAWC,IAAWT,EAAQV,KAAMU,EAAQJ,QAClD,kBAAC,IAAD,CACCc,KAAK,uBACLC,OAAQ,SAAAC,GAAK,OAAI,kBAAC,IAA8BA,MAEjD,kBAAC,IAAD,CACCF,KAAK,qBACLC,OAAQ,SAAAC,GAAK,OAAI,kBAAC,IAA2BA,MAE9C,kBAAC,IAAD,CACCF,KAAK,oBACLC,OAAQ,SAAAC,GAAK,OAAI,kBAAC,IAA2BA,MAE9C,kBAAC,IAAD,CACCF,KAAK,yBACLC,OAAQ,SAAAC,GAAK,OAAI,kBAAC,IAA6BA,MAEhD,kBAAC,IAAD,KACC,kBAAC,IAAD,CACCF,KAAK,gBACLC,OAAQ,SAAAC,GAAK,OAAI,kBAAC,IAA6BA,MAEhD,kBAAC,IAAD,CACCF,KAAK,YACLC,OAAQ,SAAAC,GAAK,OACZ,yBAAKJ,UAAWR,EAAQJ,OACvB,kBAAC,IAAD,CAAMiB,SAAU,CAACC,IAASC,cACzB,kBAAC,IAAD,CACCC,QAAQ,YACRC,MAAM,UACNC,QAAS,kBAAMZ,EAAQa,KAAK,mBAH7B,mBAQD,kBAAC,IAAiBP","file":"static/js/14.57b7baef.chunk.js","sourcesContent":["import React, { useEffect, Fragment, FC } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"recompose\";\r\nimport { History } from \"history\";\r\nimport { Switch, Route, RouteComponentProps } from \"react-router\";\r\nimport {\r\n\twithStyles,\r\n\tButton,\r\n\tPaper,\r\n\tWithStyles,\r\n\tcreateStyles,\r\n\tTheme\r\n} from \"@material-ui/core\";\r\nimport classNames from \"classnames\";\r\nimport * as actions from \"../../actions\";\r\nimport { Role as RoleEnum } from \"../../../shared/typings\";\r\n// import BookingFormCreateStepper from \"../containers/forms/bookings/BookingFormCreateStepper\";\r\nimport { BookingCreateFormStepper, Role } from \"../containers\";\r\nimport BookingTableView from \"../containers/display/BookingTableView\";\r\nimport {\r\n\tBookingTable,\r\n\tModalConfirmDeleteBooking,\r\n\tModalFormBookingUpdate,\r\n\tModalFormFinalizeBooking,\r\n\tModalConfirmPayBooking\r\n} from \"../containers\";\r\nimport { Auth, WithServerResponse } from \"../../typings/api\";\r\ninterface IBookingsPage extends RouteComponentProps, WithStyles<typeof styles> {\r\n\tauth: WithServerResponse<Auth>;\r\n\thistory: History;\r\n}\r\n\r\nconst Bookings: FC<typeof actions & IBookingsPage> = ({\r\n\tclasses,\r\n\tauth,\r\n\tfetchUsers,\r\n\tfetchVehicles,\r\n\tfetchLocations,\r\n\tfetchBookings,\r\n\tfetchCurrentUserDetails,\r\n\thistory\r\n}) => {\r\n\tuseEffect(() => {\r\n\t\tfetchBookings();\r\n\t\tfetchUsers();\r\n\t\tfetchVehicles();\r\n\t\tfetchLocations();\r\n\t\tfetchCurrentUserDetails();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<Paper className={classNames(classes.root, classes.items)}>\r\n\t\t\t<Route\r\n\t\t\t\tpath=\"/bookings/delete/:id\"\r\n\t\t\t\trender={props => <ModalConfirmDeleteBooking {...props} />}\r\n\t\t\t/>\r\n\t\t\t<Route\r\n\t\t\t\tpath=\"/bookings/edit/:id\"\r\n\t\t\t\trender={props => <ModalFormBookingUpdate {...props} />}\r\n\t\t\t/>\r\n\t\t\t<Route\r\n\t\t\t\tpath=\"/bookings/pay/:id\"\r\n\t\t\t\trender={props => <ModalConfirmPayBooking {...props} />}\r\n\t\t\t/>\r\n\t\t\t<Route\r\n\t\t\t\tpath=\"/bookings/finalize/:id\"\r\n\t\t\t\trender={props => <ModalFormFinalizeBooking {...props} />}\r\n\t\t\t/>\r\n\t\t\t<Switch>\r\n\t\t\t\t<Route\r\n\t\t\t\t\tpath=\"/bookings/new\"\r\n\t\t\t\t\trender={props => <BookingCreateFormStepper {...props} />}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route\r\n\t\t\t\t\tpath=\"/bookings\"\r\n\t\t\t\t\trender={props => (\r\n\t\t\t\t\t\t<div className={classes.items}>\r\n\t\t\t\t\t\t\t<Role excludes={[RoleEnum.KEY_MANAGER]}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => history.push(\"/bookings/new\")}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tBook a vehicle\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Role>\r\n\t\t\t\t\t\t\t<BookingTable {...props} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t/>\r\n\t\t\t</Switch>\r\n\t\t</Paper>\r\n\t);\r\n};\r\nconst styles = (theme: Theme) =>\r\n\tcreateStyles({\r\n\t\troot: {\r\n\t\t\tpadding: theme.spacing(3),\r\n\t\t\t[theme.breakpoints.down(\"sm\")]: {\r\n\t\t\t\tpadding: theme.spacing(1),\r\n\t\t\t\t\"& > :not(:last-child)\": {\r\n\t\t\t\t\tmarginBottom: theme.spacing(1)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\theight: \"100%\",\r\n\t\t\toverflow: \"auto\"\r\n\t\t},\r\n\t\titems: {\r\n\t\t\t\"& > :not(:last-child)\": {\r\n\t\t\t\tmarginBottom: theme.spacing(2),\r\n\t\t\t\t[theme.breakpoints.down(\"sm\")]: {\r\n\t\t\t\t\tmarginBottom: theme.spacing(1),\r\n\t\t\t\t\t\"& > :not(:last-child)\": {\r\n\t\t\t\t\t\tmarginBottom: theme.spacing(1)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\nconst mapStateToProps = ({ auth }: Pick<IBookingsPage, \"auth\">) => ({ auth });\r\n\r\nexport default compose<typeof actions & IBookingsPage, {}>(\r\n\twithStyles(styles),\r\n\tconnect(mapStateToProps, actions)\r\n)(Bookings);\r\n"],"sourceRoot":""}